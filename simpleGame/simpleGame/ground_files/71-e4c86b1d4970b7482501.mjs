(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[71,133,"SendObjectWrapperCommon","facebookEnsureInitForDesktop"],{"+zF7":function(e,t,n){var i=n("LqyK"),a=n("TN0d"),o=n("eOdZ"),r=n("G35+"),s=n("dwea"),l=n("mBfy");function c(){}Object.assign(c.prototype,{handleConnect(e,t,n){if(t&&!l.default.isLimitedLogin()){const a={success:function(i){const a={network:e,data:i};this._internalConnectNetwork(t,a,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()},windowOptions:void 0};"dropbox"===e?a.windowOptions="width=600,height=800":"instagram"===e?a.windowOptions=i.default.getWindowOptions(580,580):"etsy"===e?a.windowOptions=i.default.getWindowOptions(580,775):"youtube"===e&&(a.windowOptions=i.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,a)}else{const i={network:e};this._internalConnectNetwork(t,i,n)}},updateConnectStatus(){o.a.create("UserResource",{user_id:l.default.get("id"),username:l.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{const t=e.resource_response.data;l.default.set(t),a.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork(e,t,n){t?r.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const i=o.a.create("UserSocialNetworkResource",t);(e?i.callCreate():i.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case r.a.FACEBOOK:t="UserFacebookFriendsResource";break;case r.a.TWITTER:t="UserTwitterFriendsResource";break;case r.a.GOOGLE:t="UserGmailFriendsResource";break;case r.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},i=this._getResourceNameForNetworkFriends(e);if(!i)return;const a=o.a.create(i,n);a.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(a)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;c.instance=function(){return d||(d=new c),d},t.a=c},"/kAC":function(e,t,n){var i=n("3cYt")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=i},"0K1N":function(e,t,n){t.a=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},"0S8y":function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("VBRM"),a=n("YWqT"),o=n("F08S");function r(e){const t={},n=e.trim();n.length>0&&(t.full_name=n);const i=n.split(/ (.+)/);return""===i[0]&&i.shift(),i.length>0&&(t.first_name=i[0]||""),i.length>1&&(t.last_name=i[1]||""),t}function s({user:e,days:t=28}){if(!e||!e.createdAt)return!1;const n=new Date(e.createdAt),i=Object(o.a)(-t,n),r=new Date;return!Object(a.a)(r,i)}function l({user:e,days:t=28}){if(!e.resurrectionInfo)return!1;const n=e.resurrectionInfo.resurrectionDate,o=new Date,r=n?new Date(n):o,s=Object(i.a)(r,t);return Object(a.a)(s,o)}function c(e){return e&&e[1000069]&&500417===e[1000069].experience_id}},"0rqB":function(e,t,n){n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n("clxp"),o=n("n6mq"),r=n("nKUr");function s({children:e,group:t,isEligible:n,name:i,performsActivate:a}){let s=a?"#0f0":"#00f";return n||(s="#999"),Object(r.jsxs)(o.e,{position:"relative",children:[e,Object(r.jsx)(o.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 2px 2px "+s,borderRadius:5}}}),Object(r.jsxs)(o.e,{position:"absolute",top:!0,left:!0,color:"lightGray",children:[i,": ",t]})]})}var l=n("NVsV");const c=Object(i.memo)(({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:o,group:l,overrideGroup:c=null,highlighted:d=!1,children:u})=>{Object(i.useEffect)(()=>{e&&n&&t&&t(o)},[]);const h=()=>"string"==typeof c?c:l,p=h(),b=`Experiment(${o}:${p})`,m=n&&p&&(p.startsWith("enabled")||p.startsWith("employee"))||!1,g={group:n?p:"",anyEnabled:m,customActivate:n&&!e?()=>n?t(o):"":null};return(t=>{const i=h();return d?Object(r.jsx)(s,{group:i,isEligible:n,name:o,performsActivate:e,children:t}):t})(Object(r.jsx)(a.a,{name:b,children:u(g)}))});function d(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:a,highlightedExperiment:o,setExperimentVisible:s}=Object(i.useContext)(l.c),d=n&&a&&"string"==typeof a[t]?a[t]:null,u=n&&(o===t||o===l.a);return Object(i.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),Object(r.jsx)(c,{...e,overrideGroup:d,highlighted:u})}},"1Nkp":function(e,t,n){var i=n("kmwA"),a=n("28DW");const o={scope:"profile email",client_id:i.a.settings.GPLUS_CLIENT_ID,app_package_name:i.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},r=e=>(Object(a.a)("unauth_web.gapi_auth2_load.success"),e()),s=e=>{Object(a.a)("unauth_web.init_google.sdk."+e)};t.a=(e=o)=>new Promise((t,n)=>{s("start"),window.gapi.auth2?(s("exists"),window.gapi.auth2.init(e).then(()=>r(t))):(s("load"),window.gapi.load("auth2",{callback:()=>{s("load_success"),window.gapi.auth2.init(e).then(()=>r(t))},onerror:()=>{s("load_error"),n()},timeout:15e3,ontimeout:()=>{s("load_timeout"),n()}}))})},"1inl":function(e,t,n){var i=n("Te9D"),a=n.n(i);const o={};o._showErrorCallback=o._showErrorCallback||null,o.setShowHtmlErrorCallback=function(e){o._showErrorCallback=e},o.showError=function(e,t,n){const i=a()(e);return o.showHtmlError(i,t,n)},o.showHtmlError=function(e,t,n){"function"==typeof o._showErrorCallback&&o._showErrorCallback(e,t,n)},t.a=o},"2i+x":function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{const{thumbnail:t,url:n,width:i,height:a,duration:o}=e||{};return t&&n&&i&&a&&{thumbnail:t,url:n,width:i,height:a,duration:o}||void 0}},"37no":function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));var i=n("7w6Q");const a=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function o(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)})}function r(e,t=a.OTHER,n=!1){const o=n?"web":"mweb";return new Promise((n,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===a.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval(()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${o}.loadScript.gplus_one.tries_${e}`,.01))},100)}else if(t===a.FACEBOOK)if(window.FB)n();else{const t=setInterval(()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.a.increment(`${o}.loadScript.facebook.tries_${e}`,.01))},100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}})}},"3cYt":function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},"4cTg":function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r}));var i=n("q1tI"),a=n("dKiF");const o=Object(a.d)(({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:a})=>({showCloseupContentRight:e,showPdp:t,updateCloseupBodyContainerHeight:n,viewportSize:i,width:a})),r={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",width:null};t.b=Object(i.createContext)(r)},"4cpq":function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("n6mq"),a=n("nKUr");function o(e){const{children:t,display:n,id:o}=e;return Object(a.jsx)(i.e,{"data-test-id":o,display:n,children:t})}},"4dcN":function(e,t,n){(function(e){var i=n("T0g9"),a=n("Jr++");let o;void 0===o&&(o=e),o._gaq=o._gaq||[];let r=[];const s=function(e){if(r.length)for(let t=0;t<r.length;t+=1){const n=r[t];o._gaq.push(["_setAccount",n]),o._gaq.push(e)}},l=function(e){if(r=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},c=2,d=3,u={};u.init=function(e,t){l(e),s(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",c])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:a}){l(e),t?(i?s(["_setCustomVar",1,"adminUser",i.toString(),d]):a&&a.id?s(["_setCustomVar",1,"viewingUser",a.id.toString(),d]):s(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&s(["_setCustomVar",3,"advertiserId",n.id,d])):s(["_setCustomVar",1,"is_logged_in","logged out",d])};const h=function(e,t){let n=e;const o=Object(a.a)(t).q;return o&&(n+="?"+Object(i.a)({q:o})),n};u.trackPageview=function(e){s(["_setCustomVar",2,"page_name",e,d]),s(["_trackPageview",h(o.location.pathname,o.location.search)]),s(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,a){s(["_trackEvent",e,t,n,i,a])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)},t.a=u}).call(this,n("yLpj"))},"4jWr":function(e,t,n){n.d(t,"a",(function(){return i}));const i=200;t.b=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},"4sDh":function(e,t,n){var i=n("4uTw"),a=n("03A+"),o=n("Z0cm"),r=n("wJg7"),s=n("shjB"),l=n("9Nap");e.exports=function(e,t,n){for(var c=-1,d=(t=i(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&s(d)&&r(h,d)&&(o(e)||a(e))}},"51gp":function(e,t,n){n.d(t,"a",(function(){return O}));var i=n("q1tI"),a=n("sEfC"),o=n.n(a),r=n("qrav");var s=n("BEAQ"),l=n("jgRP"),c=n("9pre"),d=n("U4JR"),u=n("n6mq"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[0,.25,.5,.75,.95,.97],m=[0,.5,.8,1],g={threshold:m},f={rootMargin:"-64px 0px 0px 0px",threshold:c.c},y=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function v(){return(new Date).getTime()}function j(e){return!!e.volume&&e.volume>0}class O extends i.Component{constructor(e){super(e),p(this,"videoWrapperRef",Object(i.createRef)()),p(this,"handleWindowResize",()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),p(this,"handlePlayheadDown",({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),p(this,"handlePlayheadUp",({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),p(this,"handleLoop",()=>{this.videoTime=0}),p(this,"handleTimeChange",e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,a=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const a of i){const i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,b);if("number"==typeof a&&this.props.playing&&!t&&n){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),p(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),p(this,"handleReady",e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),p(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),p(this,"handleVisibilityChange",(e,t)=>{if(0===e.length)return;const n=e.slice(-1)[0],i=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],a=t[n+1];if(null==a)return i;if(i<=e&&e<a)return i}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),m);null==i||i===this.currentInterval.viewability||this.fullscreen||(0===i?this.startNewInterval({viewability:i,playbackState:y.PAUSED}):this.startNewInterval({viewability:i}))}),p(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),p(this,"handleClose",()=>{this.startNewInterval()}),p(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1};const t=v();this.handleWindowResize=o()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:j(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};j(e)&&!j(this.props)?n.isAudible=!1:!j(e)&&j(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?y.PLAYING:y.PAUSED:y.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{contextLogData:n}=this.props,{height:i,width:a,windowHeight:o,windowWidth:r,viewability:s,...l}=t;if(null!=i&&null!=a&&null!=o&&null!=r&&null!=s){const t={...l,height:i,width:a,windowHeight:o,windowWidth:r,viewability:s};Object(d.b)(e,function(e){const{eventData:{videoEvent:{videoDuration:t,startTime:n,endTime:i,videoStartTime:a,videoEndTime:o,isAudible:r,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:b}},...m}=e;return{...m,eventData:{videoEventData:{videoDuration:t,time:n,endTime:i,videoTime:a,endVideoTime:o,isAudible:r,height:s,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:h,windowWidth:p,viewability:b}}}}({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}}))}}logFourthQuartileEvent(){const e=v();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=v();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:o,aspectRatio:c,captions:d,contextLogData:u,controls:p,cropHeight:b,hlsConfig:m,inAdsDesktopVideoExperiment:y,loop:v,objectFit:j,onLoadedChange:O,onPause:S,onPlay:w,onSeek:x,onVolumeChange:_,playbackRate:C,playing:P,playsInline:E,poster:k,preload:T,rootMargin:L,src:D,surface:I,videoStartTime:R,volume:A}=this.props,{seeking:M}=this.state,V=y?f:g;return void 0!==L&&(V.rootMargin=I?Object(l.a)(I):L),Object(h.jsx)(r.a,{options:V,onVisibilityChange:this.handleVisibilityChange,children:Object(h.jsx)("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,style:b?{display:"flex",alignItems:"center",height:"236px"}:{},children:Object(h.jsx)(s.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:o,aspectRatio:c,captions:d,contextLogData:u,controls:p,hlsConfig:m,loop:v,objectFit:j,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:O,onLoop:this.handleLoop,onPause:S,onPlay:w,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:x,onTimeChange:this.handleTimeChange,onVolumeChange:_,playbackRate:C,playing:!M&&P,playsInline:E,poster:k,preload:T,src:D,videoStartTime:R,volume:A})})})}}p(O,"defaultProps",u.fb.defaultProps)},"7jH2":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a.a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return h})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return f})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return S.a})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return P})),n.d(t,"u",(function(){return E})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return T})),n.d(t,"x",(function(){return L})),n.d(t,"y",(function(){return I})),n.d(t,"z",(function(){return R})),n.d(t,"A",(function(){return A})),n.d(t,"B",(function(){return V}));var i=({closeupPaneWidth:e,imgSrc:t,isGif:n,pin:i})=>{const a=j(Object(S.a)({pin:i})),{image564x:o={}}=m(a)||{},{imageOrig:r={}}=f(a)||{},s=0===Object.keys(o).length?r:o,l=s.height,c=s.width,{image236x:d={}}=b(j(Object(S.a)({pin:i})))||{},u=d.url,h=Math.max(Math.min(c,e),60),p=h/c*l;return{alt:i.description,src:n?t:u,naturalHeight:p,naturalWidth:h}},a=n("Nle8");function o(e){return!e.is_promoted}var r=e=>{const t=(e||[]).reduce((e,t)=>t.name?e.concat({name:t.name}):e,[]);return t.length>0?t:null};function s(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var l=n("pOug");var c=Object(l.a)(e=>{const{richMetadata:t}=e,{article:n}=t,{name:i,description:a,authors:o,date_published:s}=n||{};return i?{...e,article:{name:i,description:a,authors:r(o),datePublished:s&&new Date(s)||void 0}}:null});var d=Object(l.a)(e=>{const{attribution:t}=e.pin,{author_url:n,url:i,author_name:a,title:o,provider_name:r,cc_url:s,embed:l}=t||{};return r&&i?{...e,attribution:{providerUrl:i,providerName:r,title:o,authorUrl:n,authorName:a,ccUrl:s,embed:l}}:null});var u=Object(l.a)(e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null});var h=Object(l.a)(e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null});const p=e=>t=>{const{images:n}=t,i=n[e],{url:a,width:o,height:r}=i||{};return a&&o&&r?{url:a,width:o,height:r}:null},b=Object(l.a)(e=>{const t=p("236x")(e);return t&&{...e,image236x:t}}),m=Object(l.a)(e=>{const t=p("564x")(e);return t&&{...e,image564x:t}}),g=Object(l.a)(e=>{const t=p("736x")(e);return t&&{...e,image736x:t}});var f=Object(l.a)(e=>{const{images:t}=e,n=t.orig,{url:i,width:a,height:o}=n||{};return i&&a&&o?{...e,imageOrig:{url:i,width:a,height:o}}:null});var y=Object(l.a)(e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:a}=t||{},{attribution:o={}}=d(e)||{},{embed:r={}}=o,{src:s}=r,l=i||s;return l?{...e,embed:{type:n,src:l,subtype:a}}:null});var v=Object(l.a)(e=>{const{embed:t}=y(Object(S.a)(e))||{};return!(!t||!t.src||"pinstory"===t.subtype||"gif"===t.type)?{...e,embed:{...t}}:null});var j=Object(l.a)(e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce((e,t)=>{const i=n[t],{url:a,width:o,height:r}=i;return e&&a&&o&&r?{...e,[t]:{url:a,width:o,height:r}}:null},{});return i&&Object.keys(i).length>0?{...e,images:i}:null});var O=Object(l.a)(e=>{const{products:t=null}=P(e)&&w(P(e))||{},{pin:n}=e,{tracked_link:i,link:a,method:o}=n,r=i||a,s=r&&("catalog_bulk_create"===o||!!t)?decodeURIComponent(r):r;return s?{...e,link:s}:null}),S=n("O1y+");Object(l.a)(e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:i}=n||{};return i?{...e,pinTags:i}:null});var w=Object(l.a)(e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:i}=t,{products:a}=n,o=Array.isArray(a)?a.map(e=>{const{name:t,offer_summary:n}=e,{in_stock:a,min_price:o,max_price:r,price:s}=n||{};let l=null;return void 0!==o&&void 0!==r?l=`${o} - ${r}`:void 0!==s&&(l=""+s),t?{name:t,outOfStock:!1===i||!1===a,priceText:l}:null}).filter(e=>null!==e):[];return o.length>0?{...e,products:{first:o[0],rest:o.slice(1)}}:null}),x=n("PsyL");const _=e=>{const{h:t,m:n}=e||{},i={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:i,isoDuration:Object(x.a)(i)}:null};var C=Object(l.a)(e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:i,categorized_ingredients:a,diets:o,from_aggregated_data:r,cook_times:s,servings_summary:l}=n||{},{total:c,cook:d,prep:u}=s||{},{summary:h}=l||{},p=_(u),b=_(d),m=_(c);return i?{...e,recipe:{name:i,categorizedIngredients:a,diets:o,fromAggregatedData:r,prepTime:p,cookTime:b,totalTime:m,servingSummary:h}}:null});var P=Object(l.a)(e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null});var E=Object(l.a)(e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null});var k=Object(l.a)(e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null});var T=Object(l.a)(e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:i,title:a,closeup_unified_title:o}=t;let r=n?o:a;if(i){const{carousel_slots:e=[],index:t}=i;e[t]&&e[t].title&&(r=e[t].title)}return r?{...e,title:r}:null});var L=Object(l.a)(e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:i,description:a,from_aggregated_data:o}=n||{};return n&&i?{...e,tutorial:{name:i,description:a,fromAggregatedData:o}}:null}),D=n("2i+x");var I=Object(l.a)(e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:a,V_HLSV4:o,V_HLSV3_MOBILE:r}=i,s=Object(D.a)(o),l=Object(D.a)(r),c=Object(D.a)(a),d=c||s||l;return n&&d?{...e,video:{id:n,hasVideo:d,mp4:c||void 0,hls:s||void 0,hlsv3:l||void 0}}:null});var R=Object(l.a)(e=>{const{video:t}=I(Object(S.a)(e))||{},{embed:n}=y(Object(S.a)(e))||{},i=!(!t||!(e=>{const{hlsv3:t,hls:n}=e,i=t||n;return!!i&&i.width>i.height})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:i}});function A({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var M=n("Zygf"),V=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&Object(M.a)(e))},"8vQR":function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("Ye/N"),a=n("7w6Q"),o=n("eOdZ"),r=n("n6mq"),s=n("U4JR"),l=n("nKUr");function c(e){const{identifier:t,onHide:n}=e,c=()=>{o.a.create("ShareSuggestionsHideResource",{user_identifier:t}).callCreate().then(()=>{n(),(()=>{const{component:t,element:n}=e;Object(s.b)(101,{component:t,element:n}),a.a.increment("web_contacts.suggestions.hide",1,{surface:t})})()})};return Object(l.jsx)(r.v,{icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),c()},accessibilityLabel:i.a._("Remove contact","SendObject.SendObjectSuggestionItem","accessibility label for removing contact suggestion"),size:"xs"})}},"9pre":function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}));const i=5,a="V_HLSV3_MOBILE",o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},AHhP:function(e,t){const n={},i=function(e,t){let n=!1;return function(...i){n||(n=!0,e.apply(this,i),t&&t())}},a=function(e,t){e.__listeners=t},o=function(e,t){return!e.__listeners&&t&&a(e,[]),e.__listeners},r=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,i){let a,o,r=[];if("string"==typeof t)for(a=t.split(" "),o=0;o<a.length;o+=1)r.push({name:a[o],callback:n,originalCallback:n,context:i});else"object"==typeof t&&t&&Object.keys(t).forEach(a=>{r=r.concat(e(a,t[a],i||n))});return r},l=function(e,t,n,i){const a=s(e,t,n);for(let o=0;o<a.length;o+=1)i(a[o])},c=function(e,t){const n=r(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const i=o(e,!0);for(let a=0;a<n.length;a+=1){const e=n[a];if(!e.callback)return;c(t,e),i.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return l(e,t,n,e=>{e.callback&&c(this,e)}),this},n.off=function(e,t,n){const i=r(this,!1);if(void 0===i)return this;const a=Object.keys(i);let o=s(e,t,n);0===o.length&&(o=[{name:null,callback:t,context:n}]);for(let r=0;r<o.length;r+=1){const e=o[r];let t;t=e.name?[e.name]:a;for(let n=0;n<t.length;n+=1){const a=t[n],o=i[a];if(void 0!==o){const t=[];for(let n=0;n<o.length;n+=1){const i=o[n];(e.callback&&i.originalCallback!==e.callback&&i.callback!==e.callback||e.context&&i.context!==e.context)&&t.push(i)}i[a]=t}}}return this},n.trigger=function(e,...t){const n=r(this,!1);if(void 0===n)return this;let i,a,o;const s=e.split(" ");for(i=0;i<s.length;i+=1){let e=[];const r=n.all,l=s[i],c=n[l];if(void 0!==c)for(a=0;a<c.length;a+=1)if(o=c[a],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:t});else if(o.callback)throw new Error("Callbacks must be functions");if(void 0!==r)for(a=0;a<r.length;a+=1)if(o=r[a],"function"==typeof o.callback)e.push({fn:o.callback,context:o.context||this,args:[l].concat(t)});else if(o.callback)throw new Error("Callbacks must be functions");for(a=0;a<e.length;a+=1)o=e[a],o.fn.apply(o.context,o.args);e=[]}return this},n.once=function(e,t,n){return l(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=i(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),c(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const a=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=i(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,a),this},n.stopListening=function(e,t,n){const i=o(this,!1);let r,l,c;if(!i)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(l=0;l<i.length;l+=1)if(r=i[l],r.obj!==e&&e)d.push(r);else if(t){let e=!1;for(c=0;c<u.length&&!1===e;c+=1){const t=u[c];r.event.name===t.name&&r.originalCallback===t.callback&&(e=!0)}e?r.obj.off(r.event.name,r.event.callback,r.event.context):d.push(r)}else r.obj.off(r.event.name,r.event.callback,r.event.context);return a(this,d),this},e.exports=n},BEAQ:function(e,t,n){n.r(t),n.d(t,"getPlaylistSourceSrc",(function(){return c})),n.d(t,"default",(function(){return d}));var i=n("q1tI"),a=n("PioT"),o=n("TqFJ"),r=n("aFfM"),s=(n("n6mq"),n("nKUr"));function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=e=>{if(Array.isArray(e)){const t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class d extends i.PureComponent{constructor(e){super(e),l(this,"componentDidUpdate",(e,t)=>{var n;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(n=this.videoPlayerRef)&&void 0!==n&&n.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),l(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),l(this,"handleOnEnded",({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))});const t=c(e.src);this.state={useHlsVideo:!a.b.isSafari()&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:l,aspectRatio:d,captions:u,contextLogData:h,controls:p,hlsConfig:b,loop:m,objectFit:g,onDurationChange:f,onEnded:y,onFullscreenChange:v,onLoadedChange:j,onPause:O,onPlay:S,onPlayheadDown:w,onPlayheadUp:x,onReady:_,onSeek:C,onTimeChange:P,onVolumeChange:E,playbackRate:k,playing:T,playsInline:L,poster:D,preload:I,src:R,videoStartTime:A,volume:M}=this.props,{useHlsVideo:V}=this.state,F=c(R),N={...b,startPosition:A||-1},U=!y&&m;return V&&F?Object(s.jsx)(r.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:l,aspectRatio:d,captions:u,contextLogData:h,controls:p,hlsConfig:N,loop:m,loopOveride:U,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:j,onPause:O,onPlay:S,onPlayheadDown:w,onPlayheadUp:x,onReady:_,onSeek:C,onTimeChange:P,onVolumeChange:E,playbackRate:k,playing:T,playsInline:L,poster:D,preload:I,setVideoRef:this.setVideoPlayerRef,src:F,volume:M}):Object(s.jsx)(o.a,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:l,aspectRatio:d,captions:u,contextLogData:h,controls:p,loop:m,loopOveride:U,objectFit:g,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:j,onPause:O,onPlay:S,onPlayheadDown:w,onPlayheadUp:x,onReady:_,onSeek:C,onTimeChange:P,onVolumeChange:E,playbackRate:k,playing:T,playsInline:L,poster:D,preload:I,setVideoRef:this.setVideoPlayerRef,src:F||R,videoStartTime:A,volume:M})}}},BcvT:function(e,t,n){var i=n("q1tI"),a=n("nKUr");function o({anchor:e,children:t,zIndex:n}){const o=Object(i.useRef)(null),[r,s]=Object(i.useState)(0),[l,c]=Object(i.useState)(0),{height:d,width:u}=e.getBoundingClientRect();return Object(i.useEffect)(()=>{const{current:t}=o;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:a}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(d,u,e,n);s(i),c(a)}},[d,u,o.current]),Object(a.jsx)("div",{ref:o,style:{left:r,position:"absolute",top:l,zIndex:n},children:t})}var r=n("n6mq");t.a=function(e){const{anchor:t,onTouch:n,paused:i,size:s,zIndex:l}=e;return t?Object(a.jsx)(o,{anchor:t,zIndex:l,children:Object(a.jsx)(r.X,{fullWidth:!1,onTap:({event:e})=>n(e),rounding:"circle",children:Object(a.jsx)(r.J,{paused:i,size:s})})}):null}},BiGR:function(e,t,n){var i=n("nmnc"),a=n("03A+"),o=n("Z0cm"),r=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(r&&e&&e[r])}},"CgR/":function(e,t,n){n.d(t,"a",(function(){return b}));var i=n("q1tI"),a=n("geGc"),o=n("Sp3T"),r=n("TqAR"),s=n("TgLd"),l=n("oVol"),c=n("U4JR"),d=n("n6mq"),u=n("nKUr");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=({children:e})=>e(Object(o.a)());class b extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",()=>{const{onFlyoutDismiss:e}=this.props;e()}),h(this,"onHide",()=>{this.props.onClick(),this.handleDismiss()}),h(this,"flyoutProps",()=>{const{gridDescription:e,idealDirection:t,imageSrc:n,pinId:i,userId:o,board:s,sendType:c,url:d,fullName:h,profileUrl:p,viewParameter:b,viewType:m,onExternalSend:g,showCaret:f,todayArticle:y}=this.props;let v={description:e,id:i,imageUrl:n,name:"",type:l.a.PIN,url:`/pin/${i}/`},j=l.a.PIN;switch(c){case"user":v={description:e,id:o,imageUrl:n,name:h,type:l.a.PINNER,url:p},j=l.a.USER;break;case"board":v=s&&{description:s.description,id:s.id,imageUrl:s.imageUrl,name:s.name,type:l.a.BOARD,url:s.url},j=l.a.BOARD;break;case"today_article":v=y&&{description:y.subtitle||"",id:y.id,imageUrl:n,name:y.title,type:l.a.TODAY_ARTICLE,url:Object(r.i)(y)},j=l.a.TODAY_ARTICLE;break;case"search":v={...v,type:l.a.SEARCH,url:d},j=l.a.SEARCH}const O={isFlyout:!0,onHide:this.onHide,onExternalSend:g,sendType:j,sharedObject:v,viewParameter:b,viewType:m};return{anchor:this.flyoutAnchor,idealDirection:t,onDismiss:this.handleDismiss,showCaret:f,children:Object(u.jsx)(a.default,{...O})}})}static makeSendShareButton(e){return t=>Object(u.jsx)(this,{ref:t.shareButtonRef,Subject:e,...t})}toggle(){const{onToggleFlyout:e,sendType:t,userId:n}=this.props;"user"===t&&Object(c.b)(101,{component:13675,element:1079,objectId:n,view:4,viewParameter:3107}),e()}render(){const{Subject:e,inModal:t,isFlyoutOpen:n,shownWithinMasonry:i}=this.props,{anchor:a,idealDirection:o,onDismiss:r,showCaret:l,children:c}=this.flyoutProps();return Object(u.jsxs)("div",{children:[Object(u.jsx)(d.e,{ref:e=>{e&&(this.flyoutAnchor=e)},children:Object(u.jsx)(p,{children:t=>Object(u.jsx)(e,{handleSendShareFlyoutButtonClick:e=>t(()=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()}),...this.props})})}),n&&(i?Object(u.jsx)(d.y,{children:Object(u.jsx)(d.e,{zIndex:t?s.a:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:Object(u.jsx)(d.I,{anchor:a,idealDirection:o,onDismiss:r,showCaret:l,size:"xl",positionRelativeToAnchor:!1,children:c})})}):Object(u.jsx)(d.I,{anchor:a,idealDirection:o,onDismiss:r,showCaret:l,size:"xl",children:c}))]})}}h(b,"defaultProps",{idealDirection:"down",onClick:()=>{}})},EC51:function(e,t,n){var i=n("q1tI"),a=n("zwad"),o=n("n6mq"),r=n("gqRH"),s=n("nKUr");const l=Object(i.forwardRef)((e,t)=>{const{accessibilityLabel:n,children:i,__dangerouslyDisableSpammyDomainCheck:l,externalData:c,hoverStyle:d,href:u,id:h,inline:p,onBlur:b,onClick:m,onFocus:g,onHistoryChange:f,target:y}=e,v=a.a.isOffsiteUrl(u);return Object(s.jsx)(r.a,{__dangerouslyDisableSpammyDomainCheck:v?l:void 0,href:u,isExternalLink:v,externalData:v?c:void 0,onClick:m,onHistoryChange:v?void 0:f,target:v?void 0:y,children:({handleClick:e})=>Object(s.jsx)(o.A,{accessibilityLabel:n,hoverStyle:d,href:u,id:h,inline:p,onBlur:b,onClick:e,onFocus:g,ref:t,rel:v?"nofollow":void 0,children:i})})});l.displayName="Link",t.a=l},ENhS:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("1dBE");const{Provider:a,Consumer:o,useHook:r}=Object(i.c)("SurfaceContext",{surface:"Unknown"})},ESls:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("0rqB"),a=n("pLLR"),o=n("nKUr");function r({activate:e,children:t,isEligible:n,name:r}){return Object(o.jsx)(a.b,{children:a=>Object(o.jsx)(i.a,{activate:e,activateExperiment:e=>a.experiments.v2ActivateExperiment(e)||"",group:a.experiments.v2GetGroup(r)||"",isEligible:n,name:r,children:t})})}},Ep0g:function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return h}));const i={YES:1,NO:2,NOT_SURE:3},a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],o=["AU","AT","BE","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],r=["US","CA"],s=["US","CA"],l=e=>!!e&&r.includes(e.toUpperCase()),c=e=>a.includes(e.toUpperCase()),d=e=>o.includes(e.toUpperCase()),u=(e,t,n)=>{const i={numDays:n},a=e[n]||{},o=e[2*n]||{};return t.forEach(e=>{const t=a[e]||0,n=o[e]?o[e]-t:0;i[e]={total:t,trend:n?(t-n)/n:0}}),i},h=e=>!!e&&s.includes(e.toUpperCase())},F08S:function(e,t,n){t.a=(e,t)=>{const n=t.getUTCDate()-e,i=new Date(t);return i.setUTCDate(n),i}},F4HH:function(e,t,n){var i=n("q1tI"),a=n("CP5N"),o=n("1dBE"),r=n("xfna"),s=n("nKUr");t.a=({name:e,v2LoggerMetricName:t,sampleRate:n,abortOnUnloadOrClientNavigation:l=!0,navigationType:c,manualAndResourceSpans:d=!1})=>{const{Provider:u,useHook:h}=Object(o.b)("Stopwatch_"+e);return{Provider:function({children:t}){const o=Object(a.a)({name:e,sampleRate:n,navigationType:c,manualAndResourceSpans:d}),h=Object(r.b)(),p=h?h.time:0,b=Object(i.useRef)(!1),m=null==o?void 0:o.isTiming,g=e=>{b.current&&(b.current=!1,null==o||o.abort(e))};return Object(i.useEffect)(()=>()=>{l&&g("unloadOrClientNavigation")},[p]),Object(s.jsx)(u,{value:{isTiming:m,abort:g,addAnnotation:(e,t)=>{null==o||o.annotate(e,t)},addBinaryAnnotation:(e,t,n,i)=>{null==o||o.binaryAnnotate(e,t,n,i)},binaryAnnotationOperation:(e,t,n,i)=>{null==o||o.binaryAnnotateOperation(e,t,n,i)},addSubspan:({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:r,id:s})=>{null==o||o.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:r,id:s})},subspanStart:({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:a})=>{null==o||o.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,id:a})},subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a})=>{null==o||o.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a})},getSpans:(e,t)=>o?o.getSpans(e,t):[],getTraceId:()=>o?o.getTraceId():"",error:e=>{b.current&&(b.current=!1,null==o||o.error(e))},start:e=>{b.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),b.current=!0,null==o||o.start(e)},stop:e=>{b.current&&(b.current=!1,null==o||o.stop(e))}},children:t})},useHook:h}}},FZoo:function(e,t,n){var i=n("MrPd"),a=n("4uTw"),o=n("wJg7"),r=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,l){if(!r(e))return e;for(var c=-1,d=(t=a(t,e)).length,u=d-1,h=e;null!=h&&++c<d;){var p=s(t[c]),b=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=u){var m=h[p];void 0===(b=l?l(m,p,h):void 0)&&(b=r(m)?m:o(t[c+1])?[]:{})}i(h,p,b),h=h[p]}return e}},FfPP:function(e,t,n){var i=n("idmN"),a=n("hgQt");e.exports=function(e,t){return i(e,t,(function(t,n){return a(e,n)}))}},"G35+":function(e,t,n){var i=n("AHhP"),a=n.n(i),o=n("1inl"),r=n("K316"),s=n("fZ0m"),l=n("YYM5"),c=n("Ye/N"),d=n("1Nkp"),u=n("dwea"),h=n("28DW");function p(){}let b;Object.assign(p.prototype,a.a),Object.assign(p.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(h.a)(`auth_web.social_connect.${e}.${Object(l.a)()}`),t.rerequest_facebook_email?Promise.resolve().then(n.bind(null,"TvzZ")).then(({default:e})=>{e(e=>{e.login(e=>{const n=e.authResponse;let i,a;n&&(i=n.grantedScopes,i=i?i.split(","):[],a=n.userID);const o=i.find(e=>"email"===e),r={id:a};"connected"===e.status&&o?t.success(r):t.error(r),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},r.a)}):"gplus"===e||"google"===e?s.a.get(e=>{Object(d.a)().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):Promise.resolve().then(n.bind(null,"LqyK")).then(({default:n})=>{const i=t.windowOptions||n.getWindowOptions(),a=window.open("/connect/"+e+"/","",i);if(!a)return o.a.showError(c.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const r=u.a.setInterval(()=>{a.closed&&(clearInterval(r),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(r),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(p,{instance:()=>(b||(b=new p),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&p.instance().complete(e.data)}),t.a=p},HGDa:function(e,t,n){n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return l}));const i=1e3,a=60*i,o=60*a,r=24*o,s=30*r,l=365*r},JZM8:function(e,t,n){var i=n("FfPP"),a=n("xs/l")((function(e,t){return null==e?{}:i(e,t)}));e.exports=a},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},K316:function(e,t,n){var i=n("mBfy");t.a=()=>i.default.isAuthenticated()&&!!i.default.attributes.facebook_id&&!i.default.isLimitedLogin()},LT60:function(e,t,n){n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var i=n("d2Eh"),a=n("nKUr");const o=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function s({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:s,children:l}){const c=e=>function(e,t){t&&e.keyCode===i.a.ESCAPE||r(e)}(e,t);return Object(a.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:o,onCanPlay:n?o:r,onCanPlayThrough:r,onChange:r,onClick:e?o:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:o,onInput:r,onInvalid:r,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?o:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?o:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:s?o:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?o:r,onTouchMove:e?o:r,onTouchStart:e?o:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:l})}},Lic6:function(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var i=n("7w6Q"),a=n("Xy1J");const o=["isCellular","videoUrl","sessionMark"],r=["fatalError"];let s={},l="";const c=e=>{const{browserName:t,browserVersion:n,country:i,isAuthenticated:a,isBot:o,isSocialBot:r,view:c="unknown",viewParameter:d="unknown"}=e;l=(r?"socialBot":o&&"bot")||"nonbot";const u=(e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}})(i);s={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:a,region:u,view:c,viewParameter:d}};function d(e,t,n={}){const a=t?"hls":"nonHls",o={...n,...s},r=`web.video.${a}.${l}.${e}`;i.a.increment(r,1,o)}function u(e,t,n={}){const c=t?"hls":"nonHls",d=e.sessionMark===a.d?"sessionStart":"sessionEnd",u={...n,...s};Object.entries(e).forEach(([e,t])=>{const n=`web.video.${c}.${l}.${d}.${e}`,a=parseInt(t,10),s="number"==typeof a?a:-1;var h;if(!o.includes(e))if(r.includes(e)&&t)i.a.increment(n,1,u);else if(e.includes("Width")||e.includes("Height")){const e=(h=s)<0?"negative":0===h?"zero":h<200?"xs":h<400?"s":h<600?"m":h<800?"l":h<1e3?"xl":h<1200?"xxl":"over1200";i.a.increment(n,1,{dimensionBucket:e,...u})}else if("numberOfStalls"===e){let e=t;s>1e3?e="over1000":s>10?e="over10":s<0&&(e="negative"),i.a.increment(n,1,{numberOfStalls:e,...u})}else"screenPixelRatio"===e?i.a.increment(n,1,{screenPixelRatio:t||-1,...u}):s>=0?(0===s&&i.a.increment(n+".zero",1,u),i.a.timing(n,s,1),i.a.timing(n+"_with_tags",s,1,u)):s<0&&i.a.increment(n+".negative",1,u)})}},LqyK:function(e,t,n){n.r(t);var i=n("d7ng"),a=n("+NLT"),o=n("K316"),r=n("TvzZ"),s=n("Jr++"),l=n("JZM8"),c=n.n(l),d=n("eOdZ"),u=n("zwad");const h={open(e){const t=c()(e,h._validParams),n=h._getDialogType(e),a=h.generateFbRef(),l=e.object_type&&e.object_id&&"feed"===n;let p=Object(i.a)(e.path);const b=Object(s.a)();if(b.ptrf&&(p=u.a.appendQueryString(p,{ptrf:b.ptrf})),l&&(p=u.a.appendQueryString(p,{fb_ref:a})),t.method=n,"feed"===t.method){const n=h.getWindowOptions(e.width||580,e.height||400);let i="http://www.facebook.com/sharer/sharer.php?u="+p;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=p:"share"===t.method&&(t.href=p),Object(r.default)(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let i,a=10;const o=setInterval(()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1){const e=t[n].parentNode;e&&e.removeChild(t[n])}return e[0]}(),!i&&a||(clearInterval(o),i&&h.executeMessengerCallback(i,e.callback)),a-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{l&&t&&!t.error_message&&d.a.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:a}).callCreate({showError:!1}),e.callback&&e.callback(t)})})},o.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return a.a.instance.unauth_id+":"+e},_getDialogType:e=>h._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,i=t||400,a=window.screen.width,o=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+i+",left="+Math.round((a-n)/2)+",top="+(o>i?Math.round((o-i)/2):0)}};t.default=h},M1Uz:function(e,t,n){n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n("4jWr"),o=n("n6mq"),r=n("nKUr");function s({color:e="white",duration:t=2e3,href:n,iconThumbnail:s,imageUrl:l,onClick:c,onHide:d,openNewPage:u,text:h,button:p,thumbnailShape:b="square",dataTestId:m}){const[g,f]=Object(i.useState)(!1),[y,v]=Object(i.useState)(!1),j=Object(i.useRef)(),O=()=>{f(!0),j.current=setTimeout(d,a.a)},S=()=>{j.current&&clearTimeout(j.current)},w=()=>{j.current=setTimeout(O,t)};Object(i.useEffect)(()=>(setTimeout(()=>v(!0),100),w(),S),[]);const x="string"==typeof h?h:`${h[0]} ${h[1]}`,_=l?Object(r.jsx)(o.e,{height:48,overflow:"hidden",width:48,children:Object(r.jsx)(o.w,{alt:x,fit:"cover",naturalHeight:1,naturalWidth:1,src:l})}):void 0,C=Object(r.jsx)(o.bb,{color:e,text:h,thumbnail:null!=s?s:_,button:p,thumbnailShape:b});return Object(r.jsx)("div",{style:Object(a.b)(y,g),onMouseEnter:S,onMouseLeave:w,"data-test-id":null!=m?m:"toast",children:n?Object(r.jsx)("a",{href:n,onClick:c,target:u?"_blank":null,rel:u?"noopener noreferrer":null,children:C}):C})}},MhBu:function(e,t,n){function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,"a",(function(){return i}))},NBXZ:function(e,t,n){t.a=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},NVsV:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("q1tI");const a="__ALL__",o="__NONE__",r={canEnableDebugger:!1,setDebuggerVisible:()=>{},debuggerVisible:!1,setDebuggingEnabled:()=>{},debuggingEnabled:!1,highlightExperiment:e=>{},highlightedExperiment:o,overrideExperiment:(e,t)=>{},overriddenExperiments:{},visibleExperimentCounts:{},setExperimentVisible:(e,t)=>{}},s=Object(i.createContext)(r);t.c=s},Nle8:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("ajUs"),a=n("zpPL");function o(e,t){const n=a.a.instance;let o;if(n){const a=n.getState();if(a.pins&&e){const n=a.pins[e],r=a.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find(e=>"PinResource"!==e);n&&(o=t?e[t]:e.PinResource)}else n&&(o=Object(i.a)(n,r))}}return o}},"O1y+":function(e,t,n){var i=n("pOug");const a=Object(i.a)(e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null);t.a=a},PioT:function(e,t,n){var i=n("+NLT"),a=n("3Qy3");n.d(t,"a",(function(){return a.a}));const o={getBrowser:()=>Object(a.b)(i.a.instance.browser_name||""),isSafari(){return this.getBrowser()===a.a.SAFARI},isChrome(){return this.getBrowser()===a.a.CHROME},isFirefox(){return this.getBrowser()===a.a.FIREFOX}};t.b=o},RHD0:function(e,t,n){n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));n("UA0U");var i=n("RNo4"),a=n("Ep0g"),o=(n("HGDa"),n("0S8y"));const r=(e,t)=>Object.keys(t).filter(n=>{const i=t[String(n)];return(i.pinner||{}).id===e.id&&!i.is_repin}).map(e=>t[e]),s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),l=(e,t)=>!(!e||!e.isAuth)&&Object(a.f)(e.country),c=e=>e.isAuth&&!e.isPartner&&!Object(o.d)({user:e})&&!Object(o.c)({user:e}),d=({requestContext:e,history:t,pinId:n})=>{((e,t)=>{const n=Object(i.b)("/business/convert",{next:t});e.push(n)})(t,(e=>e?"/business/ad_create?pinId="+e:"/business/ad_create")(n))},u=e=>{const t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}}},SNfw:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("nKUr");function a({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const o=t||(a?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return Object(i.jsx)("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(i.jsxs)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{id:"Oval",fill:r,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"})})]})})}},Sp3T:function(e,t,n){var i=n("aOj9");t.a=()=>{const{loginForMore:e,viewer:t}=Object(i.d)();return n=>{"AUTH"===t.type?n():e&&e.setVisible(!0)}}},Sxd8:function(e,t,n){var i=n("ZCgT");e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},TYy9:function(e,t,n){var i=n("XGnz");e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},Te9D:function(e,t,n){var i=n("/kAC"),a=n("dt0z"),o=/[&<>"']/g,r=RegExp(o.source);e.exports=function(e){return(e=a(e))&&r.test(e)?e.replace(o,i):e}},TgLd:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("q1tI"),a=n("D2p8"),o=n("LT60"),r=n("QAzJ"),s=n("n6mq"),l=n("nKUr");const c=new s.q(1e3),d=Object(i.forwardRef)(({accessibilityModalLabel:e,align:t,allowClickAndDrag:n,allowMediaPlay:d,allowScroll:u,children:h,closeOnOutsideClick:p,footer:b,heading:m,onDismiss:g,role:f,size:y,subHeading:v},j)=>{const O=Object(r.b)("internal_scrollable_container_gestalt_experiment")().anyEnabled;Object(i.useEffect)(()=>(a.c.pause(),function(){a.c.resume()}),[]);return Object(l.jsx)(s.y,{zIndex:c,children:Object(l.jsx)(o.a,{allowClickAndDrag:n,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:Object(l.jsx)(s.F,{_dangerousScrollableExperimentEnabled:O,accessibilityModalLabel:e,align:t,closeOnOutsideClick:p,heading:m,footer:b,onDismiss:()=>{a.c.resume(),g()},ref:j,role:f,size:y,subHeading:v,children:h})})})});d.displayName="Modal",t.b=d},TqAR:function(e,t,n){n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return f}));var i=n("F2ZA");n("n6mq");const a=408,o=16,r=2*(a+o),s=766,l=1.532,c=45,d=e=>{const{article_creator_user:t,display_type:n,feed_source:a,header_pin_id:o,id:r,title:s,video_pin:l}=e;switch(n){case 0:case 1:return s?Object(i.e)(a,s,r):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return o?`/pin/${o}/`:"";case 2:return null!=l&&l.id?`/pin/${l.id}/`:"";default:return""}},u=e=>"todayarticle"===e.type,h=e=>"story"===(null==e?void 0:e.type)&&"today_tab_footer"===(null==e?void 0:e.story_type),p=e=>"story"===(null==e?void 0:e.type)&&("today_tab_header"===(null==e?void 0:e.story_type)||"today_tab_date_header"===(null==e?void 0:e.story_type)),b=e=>Array.isArray(e)&&e.length>0&&e.every(e=>"story"===e.type),m=e=>e.height/e.width,g=["736x","236x","170x"],f=e=>{for(const t of g)if(e.images[t])return e.images[t];return null}},TqFJ:function(e,t,n){var i=n("q1tI"),a=n("v/Q4"),o=n("U4JR"),r=n("pLLR"),s=n("n6mq"),l=n("Xy1J"),c=n("Lic6"),d=n("nKUr");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{canPlayVideo:!1,playbackState:l.e.LOADING}),u(this,"componentDidMount",()=>{const{playing:e}=this.props;Object(c.c)("videoMounted",!1),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(l.d,{initiator:"mount"}))}),u(this,"componentDidUpdate",(e,t)=>{const{playing:n}=this.props;t.playbackState!==l.e.PAUSED&&t.playbackState!==l.e.SEEKING&&t.playbackState!==l.e.STALLING&&!1===e.playing&&n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,this.logPlaybackPerformance(l.d,{initiator:"update"}))}),u(this,"hasVideoSessionStarted",!1),u(this,"hasVideoSessionEnded",!1),u(this,"lastStartPlayTime",null),u(this,"lastStallTime",null),u(this,"videoRefSetTime",null),u(this,"videoSessionId",""),u(this,"videoVisibleTime",null),u(this,"playbackPerformance",{canPlayTime:null,fatalErrorMsg:null,loadStartTime:null,numStalls:0,totalStallDurationMs:0,totalWatchDurationMs:0}),u(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*l.b:0),u(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:n,videoStartTime:i}=this.props,{canPlayVideo:a}=this.state;Object(c.c)("handleCanPlayVideo",!1,{firstCanPlayEvent:!a,playing:n}),a||(this.playbackPerformance.canPlayTime=new Date,null!=i&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=i)),this.setState({canPlayVideo:!0}),t&&t(e)}),u(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props;t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDuration(),this.lastStartPlayTime=0):t||this.logPlaybackPerformance(l.c,{initiator:"videoEnded",loop:t}),this.setState({playbackState:l.e.ENDED}),n&&n(e)}),u(this,"handleError",()=>{this.playbackPerformance.fatalErrorMsg="Video failed loading",this.updateWatchDuration(),this.setState({playbackState:l.e.FAILED})}),u(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),u(this,"handlePlaying",()=>{null===this.lastStartPlayTime&&(this.lastStartPlayTime=this.getCurrentVideoTime()),this.updateStallDuration(),this.setState({playbackState:l.e.PLAYING})}),u(this,"handlePause",()=>{this.state.playbackState!==l.e.STALLING&&this.state.playbackState!==l.e.SEEKING&&(this.updateWatchDuration(),this.updateStallDuration()),this.setState({playbackState:l.e.PAUSED})}),u(this,"handleSeeking",()=>{this.lastStartPlayTime=null,this.state.playbackState!==l.e.ENDED&&this.setState({playbackState:l.e.SEEKING})}),u(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==l.e.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1,this.setState({playbackState:l.e.STALLING}))}),u(this,"handleTimeUpdate",()=>{this.state.playbackState===l.e.PLAYING&&(this.updateWatchDuration(),null===this.lastStartPlayTime&&(this.lastStartPlayTime=this.getCurrentVideoTime()))}),u(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("error",this.handleError),e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),u(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),u(this,"updateWatchDuration",()=>{let e=0;const t=this.lastStartPlayTime;null!==t&&(e=this.getCurrentVideoTime()-t,e>0&&(this.playbackPerformance.totalWatchDurationMs+=e,this.lastStartPlayTime=null))}),u(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n,src:i,userId:a}=this.props,{canPlayTime:r,fatalErrorMsg:s,loadStartTime:d,numStalls:u}=this.playbackPerformance,h=this.videoPlayerRef&&this.videoPlayerRef.video,p=e===l.d,b=p&&!this.hasVideoSessionStarted,m=!p&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(h&&(b||m)){var g;const b="string"==typeof i?i:i[0].src;let m=-1;r&&d&&(m=r>d?r-d:0);let f=-1;r&&this.videoVisibleTime&&(f=r>this.videoVisibleTime?r-this.videoVisibleTime:0);const y={averageVideoKbps:-1,isCellular:!1,fatalError:!!s,nativeVideoDurationMs:h.duration*l.b||-1,numberOfStalls:u,overallWatchedDurationMs:-1,rebufferRate:-1,sessionMark:e,screenPixelRatio:null!==(g=window)&&void 0!==g&&g.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:h.clientWidth,startupPlayerHeight:h.clientHeight,startupTimeMs:m,startupLatencyMs:f,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:-1,videoUrl:b};p?this.videoSessionId=Object(l.f)(a):(this.updateWatchDuration(),this.updateStallDuration(),y.overallWatchedDurationMs=this.playbackPerformance.totalWatchDurationMs,y.rebufferRate=this.playbackPerformance.totalStallDurationMs/this.playbackPerformance.totalWatchDurationMs),Object(c.a)(y,!1),Object(o.b)(3606,{...n,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:y}}),p?this.hasVideoSessionStarted=!0:(this.videoSessionId="",this.hasVideoSessionEnded=!0),Object(c.c)(p?"sessionStart":"sessionEnd",!1,t)}})}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(l.c,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:o,aspectRatio:r,captions:l,controls:c,loop:u,loopOveride:h,objectFit:p,onDurationChange:b,onFullscreenChange:m,onLoadedChange:g,onPause:f,onPlay:y,onPlayheadDown:v,onPlayheadUp:j,onSeek:O,onTimeChange:S,onVolumeChange:w,playbackRate:x,playing:_,playsInline:C,poster:P,preload:E,src:k,volume:T}=this.props,{canPlayVideo:L}=this.state;return Object(d.jsx)(s.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:o,aspectRatio:r,captions:l,controls:c,loop:void 0===h?u:h,objectFit:p,onDurationChange:b,onEnded:this.handleEnded,onFullscreenChange:m,onLoadedChange:g,onPause:f,onPlay:y,onPlayheadDown:v,onPlayheadUp:j,onReady:this.handleCanPlayVideo,onSeek:O,onTimeChange:S,onVolumeChange:w,playbackRate:x,playing:L&&_,playsInline:C,poster:P,preload:E,ref:this.setVideoPlayerRef,src:k,volume:T})}}t.a=Object(i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:o,unauthId:s,userAgent:l}=Object(r.d)(),{browserName:u,browserVersion:p}=l,{contextLogData:b={}}=e,{view:m,viewParameter:g}=b,f=Object(a.a)(),y={browserName:u,browserVersion:p,country:t,isAuthenticated:n,isBot:i,isSocialBot:o,view:m,viewParameter:g};return Object(c.b)(y),Object(d.jsx)(h,{...e,userId:f.id||s})}))},TvzZ:function(e,t,n){n.r(t);var i=n("0K1N"),a=n("eOdZ"),o=n("kmwA"),r=n("37no");let s=!1;const l=(e,t,n="en-US")=>{Object(r.c)(Object(i.a)(n),r.a.FACEBOOK).then(()=>{const n=window.FB;n&&(s||(n.init({appId:o.a.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{t()&&l(e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){a.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)}),s=!0,window.fb_init=2),e(n))}),window.fb_init=1};t.default=l},UA0U:function(e,t,n){var i=n("HGDa");t.a=e=>{const t=new Date(e)-new Date,n=Math.abs(t);return{year:Math.floor(n/i.f),month:Math.floor(n%i.f/i.d),day:Math.floor(n%i.d/i.a),hour:Math.floor(n%i.a/i.b),minute:Math.floor(n%i.b/i.c),milli:t,ms:n}}},VBRM:function(e,t,n){t.a=(e,t)=>{const n=new Date(e);return n.setDate(e.getDate()+t),n}},VpfY:function(e,t,n){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return p}));var i=n("RHD0"),a=(n("7jH2"),n("Y8Sn"));function o(e){var t;return(null===(t=e.closeup_attribution)||void 0===t?void 0:t.id)||null}function r(e){var t,n;return!Object(a.j)(e.videos)&&!Object(a.i)(e)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function s(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function l(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}function c(e){const t=e.aggregated_pin_data||{};return t.is_shop_the_look||t.is_stela}function d(e){const{native_creator:t,pinner:n,domain:i}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===i)&&!e.is_promoted||t}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:t,pages:n=[]}={}}=e;return{metadata:t,detailsPage:n[1]}}const h=({viewer:e,pin:t})=>Object(i.b)(e)&&t.is_quick_promotable_by_pinner;function p(e){var t;return e.story_pin_data_id&&(null===(t=e.themes)||void 0===t?void 0:t.length)>0?e.themes[0]:null}},Vt0H:function(e,t,n){var i=n("q1tI"),a=n("/MKj"),o=n("PioT"),r=n("Ye/N"),s=n("51gp"),l=n("XtwW"),c=n("9pre"),d=n("vZlu"),u=n("ptXI"),h=n("WnLB"),p=n("y2Ga"),b=n("pf20"),m=n("n6mq"),g=n("nKUr");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),f(this,"state",{controls:!1,duration:0,fullscreen:!1,playing:!o.b.isSafari()&&!!this.props.autoplay,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted?0:1}),f(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!l.a)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:l.a.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(h.e),i.addSubspan("perceived_video_load",null,l.a.now()),i.metricId.segment===h.d&&i.removeConstraint(h.c))}),f(this,"componentDidMount",()=>{const{customThumbnail:e,video:t}=this.props,n=t.mp4,i=t.hlsv3||t.hls||null,{thumbnail:a}=i||n||{},o=(r=e||a,document.querySelector(`video[poster="${r}"]`)||null);var r;4===(null==o?void 0:o.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))}),f(this,"componentDidUpdate",(e,t)=>{!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:!0}),e.isPlaying&&!1===this.props.isPlaying&&this.props.showControls&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1})}),f(this,"handleTouch",()=>{const{seeking:e}=this.state;e||this.setState(e=>({playing:!e.playing}))}),f(this,"handleShowControls",()=>this.setState({controls:!0})),f(this,"handleHideControls",()=>this.setState({controls:!1})),f(this,"handleReady",()=>{const{ready:e}=this.state,{autoplay:t}=this.props;t&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0})}),f(this,"handleEnded",({event:e})=>{const{customThumbnail:t,pinId:n,setCurrentVideo:i,loop:a,onEnded:o}=this.props;var r;e.stopPropagation(),a||(this.setState({playing:!1}),(r=t)&&r.endsWith(".gif")||(this.setState({showEndCard:!0}),i({pinId:n,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),o&&o()}),f(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),f(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),f(this,"handleDurationChange",({duration:e})=>{this.setState({duration:e})}),f(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),f(this,"handlePlayheadDown",({event:e})=>{this.setState({seeking:!0})}),f(this,"handlePlayheadUp",({event:e})=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),f(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),f(this,"handleVolumeChange",({event:e,volume:t})=>{e.stopPropagation(),this.setState({volume:t})}),f(this,"exitFullscreen",()=>{const e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),f(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{const a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:o}=this.props,r={gridDescription:o?o.gridDescription:"",imageSrc:o?o.imageSrc:"",isFlyoutOpen:!!o&&o.isFlyoutOpen,onFlyoutDismiss:o?o.onFlyoutDismiss:()=>{},onToggleFlyout:o?o.onToggleFlyout:()=>{},pinId:o?o.pinId:""};return i?Object(g.jsx)(u.b,{...a}):Object(g.jsx)(u.a,{...r,...a})})}render(){const{contextLogData:e={component:179,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:t,isPromoted:n,loop:i,onTimeChange:a,objectFit:l,preload:d,showControls:u,variant:h,video:p,videoStartTime:b}=this.props,{controls:f,fullscreen:y,playing:v,showEndCard:j,volume:O}=this.state,S=o.b.isSafari(),w=p.hlsv3||p.hls||null;if(!w&&!p.mp4)return null;const x=p.mp4,_=w?[{type:"video/m3u8",src:w.url}]:[{type:"video/mp4",src:(x||{}).url}],{height:C,thumbnail:P,width:E}=w||x||{},k=t||P;return Object(g.jsx)(m.B,{willChangeTransform:!(S&&y),rounding:"default"===h?0:2,wash:!0,children:j?this.renderCloseupVideoEndCard(k,C,E,n):Object(g.jsx)(m.X,{onMouseEnter:u?this.handleShowControls:void 0,onMouseLeave:u?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:Object(g.jsx)(s.a,{contextLogData:{...e,video_id:this.props.video.id},accessibilityMaximizeLabel:r.a._("Maximize","Maximize button on video","Maximize button on video"),accessibilityMinimizeLabel:r.a._("Minimize","Minimize button on video","Minimize button on video"),accessibilityMuteLabel:r.a._("Mute","Mute button on video","Mute button on video"),accessibilityPauseLabel:r.a._("Pause","Pause button on video","Pause button on video"),accessibilityPlayLabel:r.a._("Play","Play button on video","Play button on video"),accessibilityUnmuteLabel:r.a._("Unmute","Unmute button on video","Unmute button on video"),aspectRatio:E/C,captions:"",controls:f,hlsConfig:{startLevel:c.a},objectFit:l,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPause:this.handlePause,onPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:a,onVolumeChange:this.handleVolumeChange,playing:v,preload:d,poster:k,src:_,videoStartTime:b,volume:O,loop:i})})})}}f(y,"defaultProps",{loop:!1,showControls:!0});t.a=Object(a.connect)((e,t)=>{const{pinId:n,isPromoted:i}=t,a=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},{organicVideosAutoplaying:o,promotedVideosAutoplaying:r}=a;let s=null;return s=i?r[n]:o[n],{videoStartTime:s?s.currentTime:null,isPlaying:!s||!s.paused}},(e,t)=>({setCurrentVideo:t=>e(Object(d.c)(t))}))((function(e){const t=Object(b.b)(),n=Object(p.c)();return Object(g.jsx)(y,{...e,pwtSurfaceContext:n,storyPinStepStopwatch:t})}))},WM6B:function(e,t,n){var i=n("q1tI"),a=n("nKUr");class o extends i.Component{constructor(e){var t,n,a;super(e),a={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,this.ref=Object(i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const a=void 0===i.textContent?"innerText":"textContent",o=i[a];("boolean"!=typeof t.spaces||t.spaces?o.split(" "):o).length<2?this.setState({manualTruncate:!0}):n.e("ShaveLibrary").then(n.bind(null,"eh6K")).then(({default:n})=>{n(i,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,o={maxWidth:e,maxHeight:t},r=n?{display:"inline",...o}:{...o};return i?Object(a.jsx)("div",{ref:this.ref,style:{...r,overflow:"hidden"},children:this.props.children}):Object(a.jsx)("div",{ref:this.ref,style:r,children:this.props.children})}}t.a=o},WnLB:function(e,t,n){n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s}));const i="story_pin",a="closefakemodal",o="button",r="video",s="image"},XGnz:function(e,t,n){var i=n("CH3K"),a=n("BiGR");e.exports=function e(t,n,o,r,s){var l=-1,c=t.length;for(o||(o=a),s||(s=[]);++l<c;){var d=t[l];n>0&&o(d)?n>1?e(d,n-1,o,r,s):i(s,d):r||(s[s.length]=d)}return s}},XPo3:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u}));const i=424,a=800,o=508,r=424,s=278,l=640,c=508,d=1016,u=508},Xy1J:function(e,t,n){n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c}));var i=n("7Cbv");const a=1,o=2,r=1e3,s=1e3,l=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,SEEKING:3,STALLING:4,FAILED:5,ENDED:6});function c(e){return e+"-"+Object(i.a)()}},YGxj:function(e,t,n){n.d(t,"a",(function(){return u}));var i=n("q1tI"),a=n("c4Fo"),o=n("BcvT"),r=n("n6mq"),s=n("nKUr");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,a=n.slice(-3);return Object(s.jsx)(r.I,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:Object(s.jsxs)(r.e,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[Object(s.jsx)(r.e,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:Object(s.jsx)(r.Y,{color:"darkGray",weight:"bold",children:t})}),Object(s.jsx)(r.e,{display:"flex",marginEnd:-2,paddingX:2,children:a.map(e=>Object(s.jsx)(r.e,{height:60,width:50,paddingX:1,children:Object(s.jsx)(r.B,{rounding:2,height:60,children:Object(s.jsx)(r.w,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",(e,t)=>{e?this.setState({paused:!0}):t()})}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,idealDirection:h,useMasonryFlyout:p,noClickToDismiss:b,onClickComplete:m,onClickDismiss:g,placementId:f,positionRelativeToAnchor:y,shouldTimeoutDismiss:v,showCaret:j,textAlign:O,textOverflow:S,textOverrideFn:w,textWeight:x,customizedComplete:_}=this.props,C=t||(({children:e})=>p?Object(s.jsx)(r.y,{children:e}):e),P="blue";return Object(s.jsx)(a.a,{experienceIds:n,placementId:f,type:8,children:({complete:t,dismiss:n,display_data:a})=>(this.setDefaultPulsarTooltip(a),a.has_pulsar||a.has_tooltip?(v&&a.disappearTime&&a.disappearTime>0&&(this.timer=setTimeout(()=>(n(),null),a.disappearTime)),Object(s.jsxs)(i.Fragment,{children:[a.has_pulsar&&Object(s.jsx)(o.a,{anchor:e,onTouch:()=>this.handlePulsarClick(a.has_tooltip,t),paused:this.state.paused}),a.has_tooltip&&(!a.has_pulsar||this.state.paused)&&(a.thumbnail_urls?Object(s.jsx)(c,{anchor:e,dismiss:n,idealDirection:h||"down",text:a.text,thumbnails:a.thumbnail_urls}):Object(s.jsx)(C,{children:Object(s.jsx)(r.I,{anchor:e,color:P,idealDirection:h||"down",onDismiss:b?()=>{}:n,positionRelativeToAnchor:!p&&y,shouldFocus:!1,showCaret:j,size:d,children:Object(s.jsxs)(r.e,{column:12,padding:3,children:[Object(s.jsx)(r.Y,{align:O,color:"white",overflow:S,size:u,weight:x||"bold",children:this.getText(a,l,w)}),a.sub_text&&Object(s.jsx)(r.e,{paddingY:2,children:Object(s.jsx)(r.Y,{color:"white",size:u,children:a.sub_text})}),(a.dismiss_button_text||a.complete_button_text)&&Object(s.jsxs)(r.e,{display:"flex",alignItems:"center",marginTop:2,children:[a.dismiss_button_text&&Object(s.jsx)(r.e,{marginEnd:1,column:6,children:Object(s.jsx)(r.f,{color:P,onClick:()=>{g&&g(),n()},size:"md",text:a.dismiss_button_text})}),a.complete_button_text&&Object(s.jsx)(r.e,{column:a.dismiss_button_text?6:12,children:_?Object(s.jsx)(r.X,{fullHeight:!0,onTap:()=>{t(),m&&m()},rounding:2,children:Object(s.jsx)(r.e,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:Object(s.jsx)(r.Y,{color:"blue",weight:"bold",children:a.complete_button_text})})}):Object(s.jsx)(r.f,{color:"white",size:"md",text:a.complete_button_text,onClick:()=>{t(),m&&m()}})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},YWqT:function(e,t,n){t.a=(e,t)=>e.getTime()>t.getTime()},YYM5:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("+NLT");function a(){const e=i.a.instance;return`${e.is_mobile_agent?"mobile":"desktop"}.${e.country}.${e.user_agent_platform}.${e.browser_name}`.replace(/ /g,"_")}},ZCgT:function(e,t,n){var i=n("tLB3"),a=1/0;e.exports=function(e){return e?(e=i(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},ZVOf:function(e,t,n){n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d}));var i=n("eOdZ"),a=n("/X16");function o(e,t){return i.a.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function r(e,t){return{type:a.a.USER_FOLLOW,payload:{id:e,value:t}}}function s(e,t=null){return n=>{o(e,t).callCreate().catch(()=>n(r(e,!1))),n(r(e,!0))}}function l(e,t=null){return async n=>{n(r(e,!0)),await o(e,t).callCreate().catch(t=>{throw n(r(e,!1)),t})}}function c(e,t=null){return n=>{o(e,t).callDelete().catch(()=>n(r(e,!0))),n(r(e,!1))}}function d(e,t=null){return async n=>{n(r(e,!1)),await o(e,t).callDelete().catch(t=>{throw n(r(e,!0)),t})}}},ZdHo:function(e,t,n){n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("eOdZ");function a(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function o(e,t=!1,n=""){return{type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}}}function r(e,t="",n=!1){return{type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function l(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}const c=(()=>{let e=0;return()=>e++})();function d(e,t,n){let a;const o=new Promise((r,l)=>{a=(a,o)=>{const{text:d,pinId:u,boardId:h,userId:p,didItId:b}=t,m=o();function g(){const t=i.a.create("ConversationMessagesResource",{conversation_id:e,text:d,pin:u,board:h,user:p,user_did_it_data:b,source:n}),o=""+c();a(function(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}(e,{text:d,sender:m.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:o,board:null,event_type:null,pin:u?m.pins[u]:null,type:"message",user_did_it_data:null,user:null})),t.callCreate().then(t=>{var n,i,s;a((n=e,i=o,s=t.resource_response.data.id,{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:n,messageId:i,newMessageId:s}})),r()}).catch(l)}m.conversations.data[e]?g():i.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;a(s(t)),g()})},a.getPromise=()=>o});return a}const u=(e,t,n)=>a=>i.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;a(o(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZtJp:function(e,t,n){n.d(t,"a",(function(){return a}));var i=n("nKUr");function a({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const o=t||(a?"#333333":"#8E8E8E"),r=n||"#EFEFEF";return Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1",children:Object(i.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(i.jsx)("circle",{fill:r,cx:"18",cy:"18",r:"18"}),Object(i.jsx)("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero",children:Object(i.jsx)("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"})})]})})}},Zxas:function(e,t,n){n.d(t,"a",(function(){return i}));function i(e,t=80,n="…",i=false){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},Zygf:function(e,t,n){function i(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return i}))},aFfM:function(e,t,n){var i=n("q1tI"),a=n("ulZh"),o=n.n(a),r=n("v/Q4"),s=n("U4JR"),l=n("pLLR"),c=n("n6mq"),d=n("Xy1J"),u=n("Lic6"),h=n("nKUr");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.PureComponent{constructor(...e){super(...e),p(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:d.e.LOADING}),p(this,"hasVideoSessionStarted",!1),p(this,"hasVideoSessionEnded",!1),p(this,"hls",null),p(this,"lastStallTime",null),p(this,"videoSessionId",""),p(this,"videoVisibleTime",null),p(this,"playbackPerformance",{canPlayTime:null,fatalErrorMsg:"",hasFatalError:!1,levelWatchDurationsMs:[],loadStartTime:null,numStalls:0,totalStallDurationMs:0,videoCreatedTime:null}),p(this,"initializeHls",()=>{this.destroyHls();const{src:e,hlsConfig:t}=this.props,n=new o.a(t);n.loadSource(e),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(o.a.Events.MANIFEST_PARSED,()=>{this.setState({isManifestParsed:!0})}),n.on(o.a.Events.LEVEL_SWITCHED,this.handleHlsLevelSwitch),n.on(o.a.Events.ERROR,this.handleHlsError),this.hls=n}),p(this,"destroyHls",()=>{const{hls:e}=this;e&&e.destroy()}),p(this,"initializeLevelWatchDuration",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance;if(!e.length)if(this.hls&&"number"==typeof this.hls.currentLevel&&this.videoPlayerRef&&this.videoPlayerRef.video){if(!e.length){const t={level:this.hls.currentLevel,lastStartPlayTime:null,duration:0};e.push(t)}}else Object(u.c)("initializeLevelWatchDurationFailed",!0)}),p(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*d.b:0),p(this,"handleCanPlayVideo",e=>{const{onReady:t,playing:n}=this.props,{canPlayVideo:i}=this.state;Object(u.c)("handleCanPlayVideo",!0,{firstCanPlayEvent:!i,playing:n}),i||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),t&&t(e)}),p(this,"handleEnded",e=>{const{loop:t,onEnded:n}=this.props,{levelWatchDurationsMs:i}=this.playbackPerformance,a=i.length-1;t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentLevel(),a>=0&&i[a]&&(i[a].lastStartPlayTime=0)):t||this.logPlaybackPerformance(d.c,{initiator:"videoEnded",loop:t}),this.setState({playbackState:d.e.ENDED}),n&&n(e)}),p(this,"handleHlsError",(e,t)=>{t.fatal&&(this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.fatalErrorMsg=t.details),this.updateWatchDurationForCurrentLevel(),this.setState({playbackState:d.e.FAILED})}),p(this,"handleHlsLevelSwitch",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;if(this.hls&&e[t]&&this.hls.currentLevel!==e[t].level){this.updateWatchDurationForCurrentLevel();const t={level:this.hls&&"number"==typeof this.hls.currentLevel?this.hls.currentLevel:-1,lastStartPlayTime:this.getCurrentVideoTime(),duration:0};e.push(t)}}),p(this,"handleLoadedData",()=>{this.initializeLevelWatchDuration()}),p(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date}),p(this,"handlePlaying",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;this.initializeLevelWatchDuration(),e[t]&&null===e[t].lastStartPlayTime&&(e[t].lastStartPlayTime=this.getCurrentVideoTime()),this.updateStallDuration(),this.setState({playbackState:d.e.PLAYING})}),p(this,"handlePause",()=>{this.state.playbackState!==d.e.STALLING&&this.state.playbackState!==d.e.SEEKING&&(this.updateWatchDurationForCurrentLevel(),this.updateStallDuration()),this.setState({playbackState:d.e.PAUSED})}),p(this,"handleSeeking",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;e[t]&&(e[t].lastStartPlayTime=null),this.state.playbackState!==d.e.ENDED&&this.setState({playbackState:d.e.SEEKING})}),p(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==d.e.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numStalls+=1),this.setState({playbackState:d.e.STALLING})}),p(this,"handleTimeUpdate",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;this.state.playbackState===d.e.PLAYING&&(this.updateWatchDurationForCurrentLevel(),e[t]&&null===e[t].lastStartPlayTime&&(e[t].lastStartPlayTime=this.getCurrentVideoTime()))}),p(this,"setVideoPlayerRef",e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("loadstart",this.handleLoadStart),e.addEventListener("playing",this.handlePlaying),e.addEventListener("pause",this.handlePause),e.addEventListener("seeking",this.handleSeeking),e.addEventListener("stalled",this.handleStalled),e.addEventListener("timeupdate",this.handleTimeUpdate),e.addEventListener("waiting",this.handleStalled),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),p(this,"updateStallDuration",()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)}),p(this,"updateWatchDurationForCurrentLevel",()=>{const{levelWatchDurationsMs:e}=this.playbackPerformance,t=e.length-1;let n=0;const i=e[t]?e[t].lastStartPlayTime:null;e[t]&&null!==i&&(n=this.getCurrentVideoTime()-i,n>0&&(e[t].duration+=n,e[t].lastStartPlayTime=null))}),p(this,"logPlaybackPerformance",(e,t)=>{const{contextLogData:n,src:i,userId:a}=this.props,{canPlayTime:o,hasFatalError:r,levelWatchDurationsMs:l,loadStartTime:c,numStalls:h}=this.playbackPerformance,p=this.videoPlayerRef&&this.videoPlayerRef.video,b=e===d.d,m=b&&!this.hasVideoSessionStarted,g=!b&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&p&&(m||g)){var f;const m="string"==typeof i?i:i[0].src;let g=-1;o&&c&&(g=o>c?o-c:0);let y=-1;o&&this.videoVisibleTime&&(y=o>this.videoVisibleTime?o-this.videoVisibleTime:0);const v={averageVideoKbps:-1,isCellular:!1,fatalError:r,nativeVideoDurationMs:p.duration*d.b||-1,numberOfStalls:h,overallWatchedDurationMs:-1,rebufferRate:-1,sessionMark:e,screenPixelRatio:null!==(f=window)&&void 0!==f&&f.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:p.clientWidth,startupPlayerHeight:p.clientHeight,startupTimeMs:g,startupLatencyMs:y,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:-1,videoUrl:m};if(b)this.videoSessionId=Object(d.f)(a);else if(l.length>0){const e=this.hls.levels,t=e[l[0].level]||{};this.updateWatchDurationForCurrentLevel(),this.updateStallDuration();const n=l.reduce((t,n)=>t+(e[n.level]||{}).bitrate*(n.duration||0)/d.b,0),i=l.reduce((e,t)=>e+(t.duration||0),0);v.startupVariantKbps=t.bitrate/d.a,v.startupVariantWatchedDurationMs=l[0].duration,v.startupVariantWidth=t.width,v.overallWatchedDurationMs=i,i>0&&(v.averageVideoKbps=n/(i/d.b),v.rebufferRate=this.playbackPerformance.totalStallDurationMs/i)}Object(u.a)(v,!0),Object(s.b)(3606,{...n,playback_session_id:this.videoSessionId,eventData:{videoPerformanceData:v}}),b?this.hasVideoSessionStarted=!0:(this.videoSessionId="",this.hasVideoSessionEnded=!0),Object(u.c)(b?"sessionStart":"sessionEnd",!0,t)}})}componentDidMount(){const{playing:e}=this.props;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),Object(u.c)("videoMounted",!0),e&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(d.d,{initiator:"mount"}))}componentDidUpdate(e,t){const{playing:n,src:i}=this.props;var a,o;(typeof(a=e.src)!=typeof(o=i)||(Array.isArray(o)?a.length!==o.length||o.some((e,t)=>!Array.isArray(a)||e.type!==a[t].type||e.src!==a[t].src):o!==a))&&this.initializeHls(),t.playbackState!==d.e.PAUSED&&t.playbackState!==d.e.SEEKING&&t.playbackState!==d.e.STALLING&&!1===e.playing&&n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,this.logPlaybackPerformance(d.d,{initiator:"update"}))}componentWillUnmount(){const{loop:e}=this.props;this.logPlaybackPerformance(d.c,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:o,aspectRatio:r,captions:s,controls:l,loop:d,loopOveride:u,onDurationChange:p,onFullscreenChange:b,onLoadedChange:m,onPause:g,onPlay:f,onPlayheadDown:y,onPlayheadUp:v,onSeek:j,onTimeChange:O,onVolumeChange:S,playbackRate:w,playing:x,playsInline:_,poster:C,preload:P,src:E,volume:k}=this.props,{canPlayVideo:T,isManifestParsed:L}=this.state;return Object(h.jsx)(c.fb,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:n,accessibilityPauseLabel:i,accessibilityPlayLabel:a,accessibilityUnmuteLabel:o,aspectRatio:r,captions:s,controls:l,loop:void 0===u?d:u,onDurationChange:p,onEnded:this.handleEnded,onFullscreenChange:b,onLoadedChange:m,onPause:g,onPlay:f,onPlayheadDown:y,onPlayheadUp:v,onReady:this.handleCanPlayVideo,onSeek:j,onTimeChange:O,onVolumeChange:S,playbackRate:w,playing:L&&T&&x,playsInline:_,poster:C,preload:P,ref:this.setVideoPlayerRef,src:E,volume:k})}}t.a=Object(i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:a,unauthId:o,userAgent:s}=Object(l.d)(),{browserName:c,browserVersion:d}=s,{contextLogData:p={}}=e,{view:m,viewParameter:g}=p,f=Object(r.a)(),y={browserName:c,browserVersion:d,country:t,isAuthenticated:n,isBot:i,isSocialBot:a,view:m,viewParameter:g};return Object(u.b)(y),Object(h.jsx)(b,{...e,userId:f.id||o})}))},d2Eh:function(e,t,n){t.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},d90F:function(e,t,n){var i=n("ESls");n.d(t,"a",(function(){return i.a}))},eBDd:function(e,t,n){var i=n("yaUg"),a=n("NBXZ");t.a=(e,t)=>{const n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?Object(a.a)(t[e].toString()):""}),Object(i.a)(e,n)}},exCO:function(e,t,n){n.d(t,"a",(function(){return o}));var i=n("gTC0"),a=n("nKUr");function o({accessibilityLabel:e,handleClick:t,icon:n,isSVG:o,iconOnly:r}){return Object(a.jsx)(i.a,{accessibilityLabel:e,onClick:t,icon:n,isSVG:o,iconOnly:r})}},fZ0m:function(e,t,n){const i={get(e){const t="gplus";n.e("ScriptCommon").then(n.bind(null,"6tKR")).then(({default:n})=>{n.load([],"https://apis.google.com/js/client:platform.js",t),n.ready(t,()=>{e(window.gapi)})})}};t.a=i},fZbY:function(e,t,n){const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.a=e=>i.test(e)},fepT:function(e,t,n){n.r(t),n.d(t,"SendButton",(function(){return u}));var i=n("exCO"),a=n("7pfs"),o=n("n6mq"),r=n("nKUr");const s={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function l({accessibilityLabel:e,buttonColor:t,buttonText:n,handleClick:i,icon:l}){return Object(r.jsx)(a.a,{children:({active:a,focused:c,hovered:d,onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:m,onMouseUp:g})=>{let f={borderRadius:24};if(d){const e="red"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";f={...f,backgroundColor:e}}if(a){const e="red"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";f={...f,backgroundColor:e}}return c&&(f={...f,...s}),Object(r.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:h,onMouseDown:p,onMouseEnter:b,onMouseLeave:m,onMouseUp:g,onClick:i,children:Object(r.jsx)(o.e,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:f},children:Object(r.jsxs)(o.e,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===l&&Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.u,{accessibilityLabel:"",icon:"share",color:"darkGray",size:18}),Object(r.jsx)(o.e,{paddingX:3})]}),Object(r.jsx)(o.Y,{align:"center",color:"red"===t?"white":"darkGray",weight:"bold",children:n})]})})})}})}var c=n("Ye/N"),d=n("CgR/");const u=({buttonType:e,handleSendShareFlyoutButtonClick:t,svgPath:n,isSVG:a,iconOnly:o})=>{const s="icon"===e,d=a&&n?n:"share",u={accessibilityLabel:c.a._("Send","Accessible label for button to send this pin","Accessible label for button to send this pin"),handleClick:t,icon:d};return s?Object(r.jsx)(i.a,{...u,isSVG:a,iconOnly:o}):Object(r.jsx)(l,{...u,buttonColor:"lightGray",buttonText:c.a._("Send","Text for button to send this pin","Text for button to send this pin")})};t.default=d.a.makeSendShareButton(u)},fhk9:function(e,t,n){n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r}));const i={type:"OPEN_CONVERSATIONS_DROPDOWN"},a={type:"CLOSE_CONVERSATIONS_DROPDOWN"},o=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),r=e=>({openConversationsDropdown:()=>e(i),closeConversationsDropdown:()=>e(a)})},gTC0:function(e,t,n){var i=n("1Vso"),a=n("n6mq"),o=n("nKUr");const r={borderRadius:"50%"},s={backgroundColor:"rgb(226, 226, 226)"},l={backgroundColor:"rgb(218, 218, 218)"},c={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0},d={backgroundColor:"rgb(255,255,255)"},u=({accessibilityLabel:e,active:t,focused:n,hovered:i,icon:u,isSVG:h,iconOnly:p})=>{const b=p?{...r,...d}:{...r,...i?s:{},...t?l:{},...n?c:{}};return Object(o.jsx)(a.e,{"data-test-id":"lego-icon-wrapper",color:"transparent",rounding:"circle",dangerouslySetInlineStyle:{__style:b},children:Object(o.jsx)(a.e,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:p?30:48,minWidth:p?30:48}},children:h?Object(o.jsx)(a.u,{accessibilityLabel:e,dangerouslySetSvgPath:{__path:u},color:"darkGray",inline:!0,size:p?16:20}):Object(o.jsx)(a.u,{accessibilityLabel:e,icon:u,color:"darkGray",inline:!0,size:p?16:20})})})};t.a=e=>{const{accessibilityLabel:t,onClick:n,icon:a,isSVG:r,shadowType:s,iconOnly:l}=e;return Object(o.jsx)(i.a,{accessibilityLabel:t,className:s||"",dataTestId:"lego-button",onClick:n,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none",borderRadius:"50%"},children:({active:e,hovered:n,focused:i})=>Object(o.jsx)(u,{active:e,accessibilityLabel:t,hovered:n,focused:i,icon:a,isSVG:r,iconOnly:l})})}},geGc:function(e,t,n){n.r(t),n.d(t,"default",(function(){return ve}));var i=n("q1tI"),a=n("/MKj"),o=n("Ye/N"),r=n("FDmi"),s=n("oVol"),l=n("n6mq"),c=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{textValue:this.props.initialTextValue||""}),d(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),d(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,i=this.props.recipient||{},a="conversation_share_suggestion"===i.type,s=a?(i.users||[]).filter(e=>e.id!==n):[];return Object(c.jsxs)(l.e,{paddingX:4,width:360,children:[Object(c.jsxs)(l.e,{alignItems:"center",display:"flex",paddingY:4,children:[Object(c.jsx)(l.e,{height:48,paddingX:1,width:56,children:a?Object(c.jsx)(l.s,{collaborators:s.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url}))}):Object(c.jsx)(r.a,{name:i.full_name||i.email||" ",src:i.image_large_url})}),Object(c.jsxs)(l.e,{direction:"column",flex:"grow",marginStart:1,children:[Object(c.jsx)(l.Y,{weight:"bold",children:a?s.map(e=>e.first_name||e.full_name).join(", "):i.full_name||i.email}),Object(c.jsx)(l.Y,{color:"gray",size:"sm",children:a||i.username?i.username:o.a._("Invite by email","shareSheet.SendObjectDraft.inviteByEmailSubheader","Subheader shown when username is not avaible")})]}),e?Object(c.jsx)(l.v,{accessibilityLabel:o.a._("Cancel share to user","shareSheet.SendObjectDraft.cancelButton","Accessibility label for close button"),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}):null]}),Object(c.jsxs)(l.e,{children:[Object(c.jsx)(l.e,{paddingX:1,children:Object(c.jsx)(l.Z,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendObjectDraft.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""})}),Object(c.jsx)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",paddingY:4,children:Object(c.jsx)(l.f,{color:"red",inline:!0,onClick:this.handleSendMessage,size:"lg",text:o.a._("Send","shareSheet.SendObjectDraft.sendButton","Button that sends out to email"),type:"submit"})})]})]})}}var h=Object(a.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(u),p=n("fZbY");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),b(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),b(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,full_name:e,id:"",image_large_url:"",username:""};this.props.onSendMessage(n,t)}}),b(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),b(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return Object(c.jsxs)(l.e,{display:"flex",direction:"column",column:12,paddingX:4,width:360,children:[Object(c.jsxs)(l.e,{display:"flex",alignItems:"center",paddingY:4,children:[Object(c.jsx)(l.e,{flex:"grow",children:Object(c.jsx)(l.Y,{weight:"bold",children:o.a._("Send to","shareSheet.SendToEmail.label","Send to label")})}),e?Object(c.jsx)(l.v,{accessibilityLabel:o.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null]}),Object(c.jsxs)(l.e,{display:"flex",direction:"column",children:[Object(c.jsx)(l.e,{paddingY:1,marginBottom:4,children:Object(c.jsx)(l.Z,{id:"email",onChange:this.handleEmailValueChange,placeholder:o.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})}),Object(c.jsx)(l.Z,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:o.a._("Add a message","shareSheet.SendToEmail.textareaPlaceholder","Placeholder that tells user this is where they can add a messaage"),value:this.state.textValue||""}),Object(c.jsx)(l.e,{paddingY:4,display:"flex",justifyContent:"center",children:Object(c.jsx)(l.f,{inline:!0,size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:o.a._("Send","shareSheet.SendToEmail.sendButton","Button that sends out to email"),disabled:!Object(p.a)(this.state.emailValue)})})]})]})}}var g=n("vvax");function f({email:e,isValid:t,onClick:n,showSendEmailText:i}){const a=t?o.a._("Click to send!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to click in order to send an object"):o.a._("Keep typing!","SendObject.sendToEmail.sendToSubheader","Subeader that indicates user to keep typing until the email address is valid"),s=i?Object(g.b)(o.a._("Email {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the email address typed in the search field"),{email:e}):Object(g.b)(o.a._("Invite {{ email }}","SendObject.sendToEmail.sendToHeader","Header that indicates user the search query typed in the search field"),{email:e});return Object(c.jsx)(l.e,{marginBottom:4,children:Object(c.jsx)(l.X,{onTap:()=>{t&&n()},children:Object(c.jsxs)(l.e,{display:"flex",children:[Object(c.jsx)(l.e,{height:48,width:48,children:Object(c.jsx)(r.a,{name:e})}),Object(c.jsxs)(l.e,{paddingX:3,display:"flex",justifyContent:"center",direction:"column",children:[Object(c.jsx)(l.Y,{weight:"bold",size:"lg",children:s}),Object(c.jsx)(l.Y,{size:"sm",color:"gray",children:a})]})]})})})}var y=n("iS6d"),v=n("w1Xl"),j=n("8vQR"),O=n("4cpq");function S(e){const{shouldShowViewChat:t,isSent:n,onClickSend:i,onViewConversation:a}=e;return Object(c.jsx)(l.e,{display:"flex",children:t?Object(c.jsx)(l.X,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),a()},children:Object(c.jsxs)(l.e,{alignItems:"center","data-test-id":"sharesheet-viewchat-link",display:"flex",children:[Object(c.jsx)(l.Y,{color:"darkGray",size:"md",truncate:!0,weight:"bold",children:o.a._("View chat","SendObject.contactList.viewChatLink","View chat with last sent item")}),Object(c.jsx)(l.e,{marginStart:1,children:Object(c.jsx)(l.u,{accessibilityLabel:o.a._("View chat forward icon","SendObject.contactList.viewChatLink","View chat with last sent item"),color:"darkGray",icon:"arrow-forward",size:14})})]})}):Object(c.jsx)(O.a,{id:n?"sharesheet-viewchat-link":"sharesheet-send-button",children:Object(c.jsx)(l.f,{color:n?"gray":"red",disabled:n,inline:!0,onClick:i,size:"lg",text:n?o.a._("Sent","SendObject.LEGOSendObjectTypeahead","Pin is sent to current contact"):o.a._("Send","SendObject.LEGOSendObjectTypeahead","Send pin to current contact")})})})}var w=n("U4JR");function x(e){var t,n,o;const{item:s,textFieldValue:d,onSendMessage:u,onShowSendDraft:h,onViewConversation:p,sentHistory:b}=e,[m,g]=Object(i.useState)(!1),[f,O]=Object(i.useState)(!1),[x,_]=Object(i.useState)(!1),C=s.id||"string"==typeof s.email&&s.email||"",P=C in b,E=""!==d,k=null!==(t=b[C])&&void 0!==t?t:"",T=Object(a.useSelector)(e=>e.viewer.id||""),L="conversation_share_suggestion"===s.type,D=L?(s.users||[]).filter(e=>e.id!==T):[],I=s.debug_reason&&s.debug_reason.readable_reason;let R="";"string"!=typeof s.full_name||s.full_name.match(/^\s*$/)?"string"!=typeof s.email||s.email.match(/^\s*$/)||(R=s.email):R=s.full_name;return m?Object(c.jsx)(l.e,{alignItems:"center",display:"flex",position:"relative",width:"100%",paddingY:2,children:Object(c.jsx)(v.a,{identifier:null!==(n=s.id)&&void 0!==n?n:s.email,onUndoHide:()=>g(!1),component:13029,element:11918,isGroupChat:D.length>1})}):Object(c.jsxs)(l.e,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",paddingY:2,position:"relative",width:"100%",children:[Object(c.jsx)(l.X,{mouseCursor:"pointer",onTap:({event:e})=>{e.stopPropagation(),h(s)},children:Object(c.jsx)(l.i,{onMouseEnter:()=>{O(!(E||x&&P))},onMouseLeave:()=>O(!1),children:Object(c.jsxs)(l.e,{alignItems:"center",display:"flex",children:[Object(c.jsx)(l.e,{height:48,width:48,children:L?Object(c.jsx)(l.s,{collaborators:D.map(e=>({name:e.full_name||e.first_name,src:e.image_medium_url}))}):Object(c.jsx)(r.a,{accessibilityLabel:"",name:R,src:s.image_medium_url})}),Object(c.jsxs)(l.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"100%",children:[Object(c.jsxs)(l.e,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8,paddingRight:16}},flex:"grow",children:[Object(c.jsx)(l.e,{marginBottom:1,children:Object(c.jsx)(l.Y,{color:"darkGray",truncate:!0,weight:"bold",children:L?D.map(e=>e.first_name||e.full_name).join(", "):R})}),E&&I?Object(c.jsx)(l.Y,{color:"gray",size:"sm",children:I}):"string"==typeof s.username&&Object(c.jsx)(l.Y,{color:"gray",size:"sm",children:s.username})]}),Object(c.jsxs)(l.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:[f&&Object(c.jsx)(l.e,{display:"flex",marginEnd:2,children:Object(c.jsx)(j.a,{identifier:null!==(o=s.id)&&void 0!==o?o:s.email,onHide:()=>g(!0),component:13029,element:11917})}),Object(c.jsx)(S,{shouldShowViewChat:P,isSent:x,onClickSend:({event:t})=>{t.stopPropagation(),(()=>{var t;const{idx:n}=e,i=d?1044:1039;Object(w.b)(101,{component:13029,element:i,entered_query:d,result_index:n+1,rs:null===(t=s.debug_reason)||void 0===t?void 0:t.reason})})(),_(!0),u(s),O(!1)},onViewConversation:()=>p(k)})]})]})]})})}),Object(c.jsx)(y.a.Consumer,{children:e=>{var t;return e?Object(c.jsx)(l.e,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}},position:"absolute",right:!0,top:!0,children:Object(c.jsx)(l.t,{color:"blue",size:"sm",children:null===(t=s.debug_reason)||void 0===t?void 0:t.reason})}):null}})]})}var _=n("ANjH"),C=n("ZdHo"),P=n("fhk9"),E=n("w70y");var k=Object(_.compose)(Object(E.b)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"},allowStale:!1}),Object(E.b)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||"default"}),allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:r,onShowImportContacts:s,sentHistory:d,value:u,shareSuggestionsResource:{isLoaded:h},shareSuggestionsTypeaheadResource:{isLoaded:b},paddingX:m}=e,g=Object(a.useSelector)(e=>e.social.shareSuggestions[u]||[]);Object(i.useEffect)(()=>{if(!u&&h){const e=g.length>0?7511:7512;Object(w.b)(e,{component:56,view:70,viewParameter:256})}},[h]);const y=Object(a.useDispatch)(),v=t=>{const{isFlyout:n,onHide:i}=e;!n&&i&&i(),(e=>{y(Object(C.e)(e))})(t),y(P.a)},j=g.map((e,t)=>{const i=`${t}-${u?"search":"suggestion"}`,a={item:e,idx:t,onSendMessage:n,onShowSendDraft:r,onViewConversation:v,sentHistory:d,textFieldValue:u};return Object(c.jsx)(x,{...a},i)}),O=0===g.length&&(""===u&&!h||""!==u&&!b);return Object(c.jsxs)(l.e,{children:[Object(c.jsx)(l.e,{display:"flex",paddingX:m,position:"relative",children:Object(c.jsx)(l.e,{"data-test-id":"sharesheet-search-user",width:"100%",children:Object(c.jsx)(l.N,{accessibilityLabel:o.a._("Search for a name or email","SendObject.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:o.a._("Name or email","SendObject.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"),size:"lg",value:u})})}),Object(c.jsx)(l.e,{dangerouslySetInlineStyle:{__style:{overflowY:"scroll",overflowX:"hidden",zIndex:1e3}},height:185,marginBottom:4,marginTop:2,children:Object(c.jsxs)(l.e,{paddingX:m,children:[Object(c.jsx)(l.e,{paddingY:O?2:0,children:Object(c.jsx)(l.R,{accessibilityLabel:o.a._("Loading Conversation Messages","SendObject.contactList.spinner","Spinner that indicates then the contact list is being loaded"),show:O})}),Object(c.jsxs)(l.e,{children:[j,u&&Object(c.jsxs)(l.e,{children:[Object(c.jsx)(l.i,{children:Object(c.jsx)(f,{email:u,isSend:!0,isValid:Object(p.a)(u),onClick:()=>r({email:u,full_name:u}),showSendEmailText:!1})}),!O&&Object(c.jsx)(l.e,{width:"100%",children:Object(c.jsx)(l.i,{children:Object(c.jsx)(l.X,{onTap:s,children:Object(c.jsxs)(l.e,{alignItems:"center",direction:"row",display:"flex",children:[Object(c.jsx)(l.e,{alignItems:"center",color:"lightGray",display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:Object(c.jsx)(l.u,{accessibilityLabel:"people",color:"darkGray",icon:"people",size:24})}),Object(c.jsx)(l.e,{paddingX:3,children:Object(c.jsx)(l.Y,{weight:"bold",children:o.a._("Choose from contacts","SendObject.typeahead.contactHeader","Header that indicates user to choose from contact list")})})]})})})})]})]})]})})]})})),T=n("d7ng"),L=n("ZtJp"),D=n("WM6B");var I=({text:e})=>Object(c.jsx)(l.Y,{align:"center",size:"sm",children:Object(c.jsx)(D.a,{maxWidthPx:128,maxHeightPx:50,children:e})});var R=({iconSize:e,marginEnd:t,children:n})=>Object(c.jsx)(l.e,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e+24,children:n});const A=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7));var M=({onClick:e,iconColor:t,iconSize:n,backgroundColor:a,invitePath:r})=>{const[s,d]=Object(i.useState)(!1),u=Object(i.useRef)(null);return Object(i.useEffect)(()=>{A().then(({default:e})=>{e.isSupported()&&(e=>{if(!u.current||!A)return;new e(u.current,{text:()=>r}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})})(e)})},[r]),Object(c.jsx)(R,{iconSize:n,marginEnd:!1,children:Object(c.jsxs)(l.e,{ref:u,children:[Object(c.jsx)(l.X,{onTap:()=>{e(),d(!0),setTimeout(()=>{d(!1)},3e3)},children:Object(c.jsx)(l.e,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",children:Object(c.jsx)(L.a,{backgroundColor:a,iconColor:t,size:n})})}),Object(c.jsx)(I,{text:s?o.a._("Link copied!","shareSheet.socialBar.copyLinkButton.LinkCopied","Notification link was copied to clipboard"):o.a._("Copy link","shareSheet.socialBar.copyLinkButton.CopyLink","Copy Pin URL to clipboard")})]})})},V=n("SNfw"),F=n("K316"),N=n("TvzZ");function U({size:e=48,iconColor:t,backgroundColor:n,grayscale:i=!1}){const a=t||(i?"#333333":"#8E8E8E"),o=n||"#EFEFEF";return Object(c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsxs)("g",{fill:"none",strokeWidth:"1",stroke:"none",fillRule:"evenodd",children:[Object(c.jsx)("circle",{fill:o,cx:"24",cy:"24",r:"24",stroke:"none"}),Object(c.jsxs)("g",{transform:"translate(14.000000, 14.000000)",fill:a,children:[Object(c.jsx)("circle",{cx:"10",cy:"10",r:"6"}),Object(c.jsx)("circle",{cx:"17",cy:"3",r:"2"}),Object(c.jsx)("circle",{cx:"17",cy:"17",r:"2"}),Object(c.jsx)("circle",{cx:"19",cy:"10",r:"1"}),Object(c.jsx)("circle",{cx:"10",cy:"19",r:"1"}),Object(c.jsx)("circle",{cx:"1",cy:"10",r:"1"}),Object(c.jsx)("circle",{cx:"10",cy:"1",r:"1"}),Object(c.jsx)("circle",{cx:"3",cy:"17",r:"2"}),Object(c.jsx)("circle",{cx:"3",cy:"3",r:"2"})]})]})})}var B=n("v/Q4");function W({sharedObject:e,onCreatePincodeClick:t,iconColor:n,iconSize:i,backgroundColor:a}){const r=Object(B.a)();return t&&[s.a.BOARD,s.a.PINNER,s.a.USER].includes(e.type)&&r.isAuth&&(e.id===r.id||r.isEmployee)?Object(c.jsxs)(R,{iconSize:i,marginEnd:!0,children:[Object(c.jsx)(l.X,{fullWidth:!1,onTap:t,children:Object(c.jsx)(U,{backgroundColor:a,iconColor:n,size:i})}),Object(c.jsx)(I,{text:o.a._("Pincode","Share via pincode","Share via pincode")})]},"pincode"):null}var H=n("mBfy"),z=n("udob");const G="#EFEFEF",q="#333333";function Y({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",i=t?G:"#1877f2";return Object(c.jsxs)("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,children:[Object(c.jsx)("title",{children:"f_logo_RGB-Blue_1024"}),Object(c.jsxs)("g",{id:"surface1",children:[Object(c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 10.746094 37.253906 0 24 0 C 10.746094 0 0 10.746094 0 24 C 0 35.980469 8.777344 45.90625 20.25 47.707031 L 20.25 30.9375 L 14.15625 30.9375 L 14.15625 24 L 20.25 24 L 20.25 18.710938 C 20.25 12.699219 23.832031 9.375 29.316406 9.375 C 31.941406 9.375 34.6875 9.84375 34.6875 9.84375 L 34.6875 15.75 L 31.660156 15.75 C 28.679688 15.75 27.75 17.601562 27.75 19.5 L 27.75 24 L 34.40625 24 L 33.34375 30.9375 L 27.75 30.9375 L 27.75 47.707031 C 39.222656 45.90625 48 35.980469 48 24 Z M 48 24 "}),Object(c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.34375 30.9375 L 34.40625 24 L 27.75 24 L 27.75 19.5 C 27.75 17.601562 28.679688 15.75 31.660156 15.75 L 34.6875 15.75 L 34.6875 9.84375 C 34.6875 9.84375 31.941406 9.375 29.316406 9.375 C 23.832031 9.375 20.25 12.699219 20.25 18.710938 L 20.25 24 L 14.15625 24 L 14.15625 30.9375 L 20.25 30.9375 L 20.25 47.707031 C 22.734375 48.097656 25.265625 48.097656 27.75 47.707031 L 27.75 30.9375 Z M 33.34375 30.9375 "})]})]})}function K({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",i=t?G:"#0DC2FF";return Object(c.jsx)("svg",{viewBox:`0 0 ${e} ${e}`,width:e,height:e,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsxs)("g",{id:"surface1",children:[Object(c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 19.609375 36.660156 C 30.253906 36.660156 36.070312 27.839844 36.070312 20.195312 C 36.070312 19.945312 36.070312 19.691406 36.058594 19.453125 C 37.1875 18.636719 38.171875 17.617188 38.953125 16.453125 C 37.921875 16.90625 36.804688 17.21875 35.628906 17.363281 C 36.828125 16.644531 37.738281 15.515625 38.171875 14.160156 C 37.054688 14.820312 35.820312 15.300781 34.5 15.5625 C 33.445312 14.4375 31.945312 13.738281 30.277344 13.738281 C 27.085938 13.738281 24.492188 16.332031 24.492188 19.523438 C 24.492188 19.980469 24.539062 20.425781 24.648438 20.84375 C 19.835938 20.605469 15.574219 18.300781 12.71875 14.796875 C 12.226562 15.648438 11.941406 16.644531 11.941406 17.699219 C 11.941406 19.703125 12.960938 21.480469 14.519531 22.511719 C 13.570312 22.488281 12.683594 22.222656 11.902344 21.792969 C 11.902344 21.816406 11.902344 21.839844 11.902344 21.863281 C 11.902344 24.671875 13.894531 27 16.546875 27.539062 C 16.066406 27.671875 15.550781 27.742188 15.023438 27.742188 C 14.652344 27.742188 14.292969 27.707031 13.933594 27.636719 C 14.664062 29.941406 16.800781 31.609375 19.332031 31.65625 C 17.351562 33.203125 14.855469 34.128906 12.144531 34.128906 C 11.675781 34.128906 11.21875 34.105469 10.765625 34.042969 C 13.296875 35.699219 16.34375 36.660156 19.609375 36.660156 "})]})})}function X({size:e=48,grayscale:t=!1}){const n=t?q:"#FFFFFF",i=t?G:"#25d366";return Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e} ${e}`,width:e,height:e,version:"1.1",children:Object(c.jsxs)("g",{id:"surface1",children:[Object(c.jsx)("path",{style:{fill:i,stroke:"transparent"},d:"M 48 24 C 48 37.253906 37.253906 48 24 48 C 10.746094 48 0 37.253906 0 24 C 0 10.746094 10.746094 0 24 0 C 37.253906 0 48 10.746094 48 24 Z M 48 24 "}),Object(c.jsx)("path",{style:{fill:n,stroke:"transparent"},d:"M 33.851562 13.910156 C 28.871094 9.039062 21.070312 8.566406 15.539062 12.800781 C 10.011719 17.039062 8.4375 24.695312 11.851562 30.769531 L 9.871094 38 L 17.28125 36 C 19.332031 37.148438 21.644531 37.757812 24 37.769531 C 31.730469 37.769531 38 31.503906 38 23.769531 C 38.019531 20.058594 36.542969 16.496094 33.910156 13.878906 M 24 35.410156 C 21.921875 35.410156 19.878906 34.851562 18.089844 33.789062 L 17.671875 33.539062 L 13.269531 34.699219 L 14.441406 30.410156 L 14.128906 30 C 11.304688 25.523438 11.863281 19.707031 15.484375 15.847656 C 19.109375 11.992188 24.886719 11.074219 29.527344 13.621094 C 34.167969 16.164062 36.5 21.523438 35.199219 26.652344 C 33.898438 31.785156 29.292969 35.386719 24 35.410156 M 30.371094 26.710938 C 30.019531 26.539062 28.300781 25.710938 27.980469 25.578125 C 27.660156 25.449219 27.429688 25.398438 27.199219 25.75 C 26.96875 26.101562 26.300781 26.890625 26.089844 27.121094 C 25.878906 27.351562 25.679688 27.378906 25.328125 27.210938 C 24.304688 26.792969 23.359375 26.203125 22.53125 25.46875 C 21.765625 24.765625 21.109375 23.953125 20.578125 23.058594 C 20.378906 22.710938 20.578125 22.519531 20.738281 22.339844 C 20.898438 22.160156 21.089844 21.929688 21.261719 21.730469 C 21.40625 21.554688 21.523438 21.359375 21.609375 21.148438 C 21.71875 20.960938 21.71875 20.730469 21.609375 20.539062 C 21.519531 20.359375 20.820312 18.640625 20.53125 17.941406 C 20.238281 17.238281 19.960938 17.351562 19.75 17.339844 L 19 17.339844 C 18.640625 17.351562 18.304688 17.511719 18.070312 17.78125 C 17.269531 18.53125 16.820312 19.589844 16.839844 20.691406 C 16.957031 22.007812 17.453125 23.261719 18.269531 24.300781 C 19.773438 26.554688 21.84375 28.375 24.269531 29.578125 C 24.921875 29.859375 25.589844 30.105469 26.269531 30.308594 C 26.980469 30.527344 27.734375 30.578125 28.46875 30.449219 C 29.453125 30.25 30.308594 29.648438 30.828125 28.789062 C 31.058594 28.269531 31.128906 27.691406 31.03125 27.128906 C 30.941406 26.988281 30.710938 26.898438 30.359375 26.71875 "})]})})}var Z=n("nGHF");function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const J=48,Q="#111111",ee="#EFEFEF",te={backgroundColor:"#ffffff",border:"none",padding:0},ne=e=>{Object(N.default)(t=>{t&&(t.getUserID()?e():t.login(()=>{e()}))},F.a)};class ie extends i.Component{constructor(...e){super(...e),$(this,"state",{invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),$(this,"mounted",!1),$(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(z.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),$(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||z.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),$(this,"selectText",e=>{e.target.select()})}componentDidMount(){this.mounted=!0,this.getWhatsAppURL(),this.createShareInviteLink()}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===s.a.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case s.a.BOARD:return o.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case s.a.PIN:return o.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case s.a.PINNER:return o.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);z.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+Object(T.a)(this.props.sharedObject.url)})})}checkWritePermissions(){return!!H.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(w.b)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){ne(()=>{z.a.shareFacebookInvite(this.getShareOptions(5))})}openFbMessengerDialog(){ne(()=>{z.a.shareFbMessengerInvite(this.getShareOptions(6))})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(z.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){z.a.shareTwitterInvite(this.getShareOptions(9))}renderShareOptions(){const{sharedObject:e,onCreatePincodeClick:t}=this.props;return Object(c.jsxs)(i.Fragment,{children:[Object(c.jsxs)(l.e,{display:"flex",justifyContent:"around",children:[Object(c.jsxs)(R,{iconSize:J,marginEnd:!0,children:[Object(c.jsx)("button",{"aria-label":o.a._("Share on WhatsApp","sharesheet.shareSocialBar.ShareWhatsapp","Button that will share via WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp"),style:te,tabIndex:"-1",children:Object(c.jsx)("a",{href:this.state.whatsappURL,rel:"noopener noreferrer",target:"_blank",children:Object(c.jsx)(X,{size:J})})}),Object(c.jsx)(I,{text:o.a._("WhatsApp","sharesheet.shareSocialBar.ShareWhatsappLabel","WhatsApp button label")})]}),Object(c.jsxs)(R,{iconSize:J,marginEnd:!0,children:[Object(c.jsx)("button",{"aria-label":o.a._("Share on Facebook","sharesheet.shareSocialBar.ShareFacebook","Button that will share via Facebook"),onClick:()=>this.handleSocialShareClick("facebook"),style:te,children:Object(c.jsx)(Y,{size:J})}),Object(c.jsx)(I,{text:o.a._("Facebook","sharesheet.shareSocialBar.ShareFacebookLabel","Facebook button label")})]}),Object(c.jsxs)(R,{iconSize:J,marginEnd:!0,children:[Object(c.jsx)("button",{"aria-label":o.a._("Share on Twitter","sharesheet.shareSocialBar.ShareTwitter","Button that will share via Twitter"),onClick:()=>this.handleSocialShareClick("twitter"),style:te,children:Object(c.jsx)(K,{size:J})}),Object(c.jsx)(I,{text:o.a._("Twitter","sharesheet.shareSocialBar.ShareTwitterLabel","Twitter button label")})]}),Object(c.jsx)(R,{iconSize:J,marginEnd:!1,children:this.renderEmail()})]}),Object(c.jsxs)(l.e,{display:"flex",paddingY:4,children:[Object(c.jsx)(W,{backgroundColor:ee,iconColor:Q,iconSize:J,onCreatePincodeClick:t,sharedObject:e}),Object(c.jsx)(M,{backgroundColor:ee,iconColor:Q,iconSize:J,invitePath:this.state.invitePath,onClick:()=>this.handleSocialShareClick("copylink")},"copylink")]})]})}renderEmail(){return Object(c.jsxs)(R,{iconSize:J,marginEnd:!1,children:[Object(c.jsx)(l.e,{display:"inlineBlock",children:Object(c.jsx)("button",{"aria-label":o.a._("Share on Email","sharesheet.shareSocialBar.ShareEmail","Button that will share via Email"),onClick:()=>this.handleSocialShareClick("email"),style:te,children:Object(c.jsx)(V.a,{backgroundColor:ee,iconColor:Q,size:J})})}),Object(c.jsx)(I,{text:o.a._("Email","Share via email","Share via email")})]},"email")}render(){const{sharedObject:e,paddingX:t}=this.props;return Object(c.jsxs)(l.e,{paddingX:t,children:[Object(c.jsx)(l.e,{alignContent:"center",alignItems:"center",display:"flex",height:64,justifyContent:"center",children:Object(c.jsx)(l.Y,{size:"lg",weight:"bold",children:this.getSendDisplayText(e.type)})}),Object(c.jsx)(l.e,{paddingX:2,children:this.renderShareOptions()})]})}}var ae=Object(_.compose)(Object(a.connect)(({viewer:e})=>({viewer:e}),()=>({})),Z.c)(ie),oe=n("7w6Q"),re=n("eOdZ"),se=n("M1Uz");function le(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":case"BoardActivityThreadItem":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridHomefeedBoth":case"ShoppingSquareGridPdp":case"ShoppingSquareGridRelatedProducts":case"ShoppingSquareGridRelatedProductsBoth":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var ce=n("ENhS");const de=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t}),n};var ue=Object(a.connect)(null,e=>({createConversation:t=>e(Object(C.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(i.useState)(!1),[a,r]=Object(i.useState)(null),[d,u]=Object(i.useState)({}),[p,b]=Object(i.useState)(""),[g]=Object(i.useState)((e=>"today_article"===e?o.a._("Check out this article on Pinterest!","sendObject.initialTextValue.todayArticle","pre-populated share message when a user tries to send a Today Article"):"")(e.sendType)),{showOneToast:f}=Object(Z.b)(),{surface:y}=Object(ce.b)(),v=(t,i)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:i}=e,a=i.id;oe.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(w.b)(180,{element:276,objectId:a,conversation_id:t,pin_id:n})})(t,i)},j=e=>{oe.a.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&f(({onHide:e})=>Object(c.jsx)(se.a,{color:"red",duration:5e3,onHide:e,text:t}))},O=async(t,n,i)=>{const{createConversation:a,sharedObject:o,sendType:r}=e,s=o.id,l={emails:n,user_ids:t,text:i,source:le(y)};l[r]=s;const c=re.a.create("ConversationsResource",l);try{const e=await c.callCreate(),i=e&&e.resource_response.data;a(i),v(i.id,"pin"===r?s:null),t.length>0?u({...d,...de(t,i.id)}):u({...d,...de(n,i.id)})}catch(h){j(h)}},S=(t,n)=>{"conversation_share_suggestion"===t.type?((t,n,i)=>{const{sendMessage:a,sharedObject:o,sendType:r}=e;let s;switch(r){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const l=s?Object(C.g)(t,{text:n,[s]:o.id,source:le(y)}):void 0;l&&(a(l),l.getPromise().then(()=>{v(t,"pin"===r?o.id:null),u({...d,[t]:t})}).catch(e=>{j(e)}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?O([],[t.email],n):O([t.id],[],n),Object(w.b)(101,{component:56,element:276})},x=(t,n)=>{e.sendType!==s.a.SEARCH||n?S(t,n):re.a.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e)).then(e=>{const n=e.message;S(t,n)})},_=()=>{n(!1),r(null)},{onCreatePincodeClick:P,onShowImport:E,sendType:T,sharedObject:L,isFlyout:D,onHide:I,onExternalSend:R}=e,A="email"===a?Object(c.jsx)(m,{initialTextValue:g,isFlyout:D,objectId:L.id,objectType:T,onCancelDraft:_,onHide:I,onSendMessage:x}):Object(c.jsx)(h,{initialTextValue:g,isFlyout:D,objectId:L.id,objectType:T,onCancelDraft:_,onHide:I,onSendMessage:x,recipient:"object"==typeof a?a:void 0});return t?A:Object(c.jsxs)(l.e,{color:"white",children:[Object(c.jsx)(ae,{onCreatePincodeClick:P,onEmailIconClick:()=>{n(!0),r("email")},onExternalSend:R,onHide:I,paddingX:4,sharedObject:L}),Object(c.jsx)(l.e,{children:Object(c.jsx)(k,{isFlyout:D,onChange:({value:e})=>{b(e),Object(w.b)(4113,{component:13029,element:1043})},onHide:I,onSendMessage:x,onShowImportContacts:E,onShowSendDraft:e=>{n(!0),r(e),b("")},paddingX:4,sentHistory:d,value:p})})]})})),he=n("TSYQ"),pe=n.n(he),be=n("+zF7");const me=["facebook","google"];function ge(e){return"facebook"===e?o.a._("Facebook"):"twitter"===e?o.a._("Twitter"):"google"===e?o.a._("Google"):o.a._("Other")}function fe(e){const t=pe()("sendShare",e.network),n=(i=e.network,a=e.email,"facebook"===i?o.a._("Friends who are on Pinterest"):"google"===i&&a&&-1!==a.indexOf("@gmail")?a:null);var i,a;return Object(c.jsx)("a",{onClick:e.onClick,role:"button",children:Object(c.jsxs)("div",{className:t,children:[Object(c.jsx)("em",{className:"icon"}),Object(c.jsxs)("div",{className:"networkInfo",children:[Object(c.jsx)("h4",{className:"title",children:ge(e.network)}),n?Object(c.jsx)("div",{className:"subtitle",children:n}):null]})]})})}function ye({onBack:e}){const t=Object(B.a)(),n=t.isAuth?t.email:null,i=me.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return Object(c.jsxs)("div",{className:"SocialConnectPanel sendShare",children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("div",{className:"backNav",children:Object(c.jsxs)("a",{onClick:e,role:"button",children:[Object(c.jsx)("span",{className:"icon"}),Object(c.jsx)("span",{className:"label",children:o.a._("Back")})]})}),Object(c.jsx)("div",{className:"prompt",children:o.a._("Upload contacts from...")})]}),Object(c.jsx)("ul",{className:"socialConnectOptions",children:i.map(e=>Object(c.jsx)("li",{style:{borderLeft:"none"},children:Object(c.jsx)(fe,{email:n,network:e,onClick:()=>function(e){be.a.instance().handleConnect(e,!0,{})}(e)})},e))})]})}function ve({classNames:e="",isFlyout:t=!1,onCreatePincodeClick:n,onExternalSend:a,onHide:o,sendType:r,sharedObject:s,viewType:d,viewParameter:u}){const[h,p]=Object(i.useState)(!1),[b,m]=Object(i.useState)(!1);Object(i.useEffect)(()=>(Object(w.b)(7120,{objectId:s.id,view:d,viewParameter:u}),()=>{Object(w.b)(7121,{objectId:s.id,view:d,viewParameter:u});const e=b?7493:7492;Object(w.b)(e,{view:d,viewParameter:u})}),[]);const g=()=>{p(!0)},f=()=>{p(!1)},y=()=>{m(!0)};return h?(()=>{const e=t?"Module SendObjectBase sendShare":"";return Object(c.jsx)("div",{className:e,children:Object(c.jsx)(ye,{onBack:f})})})():Object(c.jsx)(l.e,{overflow:"hidden",children:Object(c.jsx)(ue,{isFlyout:t,onCreatePincodeClick:n,onHide:o,onShowImport:g,onMessageSent:y,onExternalSend:a,sendType:r,sharedObject:s})})}},gqRH:function(e,t,n){n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("fJfT"),o=n("EC67");const r=({children:e,...t})=>e({handleClick:function(e){const{__dangerouslyDisableSpammyDomainCheck:t,externalData:n,href:r,isExternalLink:s=!1,onClick:l,onHistoryChange:c,target:d}=e,[u,h]=Object(i.useState)(null),[p,b]=Object(i.useState)(!1),m=Object(o.h)(),g=Object(o.i)();return Object(i.useEffect)(()=>(b(!0),()=>{b(!1)}),[]),Object(i.useEffect)(()=>{s&&!t&&null===u&&Object(a.a)({isMounted:p,pin:null==n?void 0:n.pin,location:g,spamCheckCallback:e=>h(e),href:r})},[e]),({event:e})=>{Object(a.b)({isExternalLink:s,event:e})||(e.nativeEvent.preventDefault(),l&&l({event:e}),r&&(s?Object(a.c)({href:r,pinId:null==n?void 0:n.pinId,pin:null==n?void 0:n.pin,location:g,auxData:null==n?void 0:n.auxData,spamCheck:u}):Object(a.d)({event:e,onHistoryChange:c,href:r,history:m,target:"blank"===d?"blank":null})))}}(t)})},hgQt:function(e,t,n){var i=n("Juji"),a=n("4sDh");e.exports=function(e,t){return null!=e&&a(e,t,i)}},iS6d:function(e,t,n){var i=n("q1tI");t.a=Object(i.createContext)(!1)},idmN:function(e,t,n){var i=n("ZWtO"),a=n("FZoo"),o=n("4uTw");e.exports=function(e,t,n){for(var r=-1,s=t.length,l={};++r<s;){var c=t[r],d=i(e,c);n(d,c)&&a(l,o(c,e),d)}return l}},jgRP:function(e,t,n){n.d(t,"a",(function(){return i}));const i=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},jmst:function(e,t,n){var i=n("q1tI"),a=n("i8i4"),o=n.n(a),r=n("nKUr");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=new Map;let c=null;const d=e=>{e.forEach(e=>{const t=l.get(e.target);t&&t(e)})};t.a=e=>{class t extends i.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"flushTimeout",null),s(this,"enter",e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),s(this,"leave",()=>{const e=this._node;e&&(e=>l.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),s(this,"observe",e=>{try{this._node=o.a.findDOMNode(this)}catch(i){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,n=this._node;((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};c=c||new window.IntersectionObserver(d,i),l.set(e,n),c.observe(e)})(n,e,e=>{if(!l.has(n))return;const i=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=this.props.trackFullVisible?e.intersectionRatio>=1:i,o=this.props.trackFullVisible?0===e.intersectionRatio:!a;!this.seen&&a?this.enter(e):this.seen&&o&&this.leave()})})}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{c.unobserve(e),l.delete(e)})(e))}render(){return Object(r.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},nGHF:function(e,t,n){n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));var i=n("1dBE");const{Provider:a,Consumer:o,useHook:r,HOC:s}=Object(i.a)("toastManagerContext")},oVol:function(e,t,n){n.d(t,"a",(function(){return i}));const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},pOug:function(e,t,n){t.a=function(e){return function(t){return null!=t?e(t):null}}},pf20:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n("F4HH");const{Provider:a,useHook:o}=Object(i.a)({name:"story_pin_step",v2LoggerMetricName:701,sampleRate:1}),r=a,s=o},ptXI:function(e,t,n){n.d(t,"a",(function(){return p}));var i=n("q1tI"),a=n("Ye/N"),o=n("7w6Q"),r=n("fepT"),s=n("U4JR"),l=(n("CgR/"),n("n6mq")),c=n("nKUr");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},h={overlay:{__style:{backgroundColor:"#000"}}};class p extends i.PureComponent{constructor(...e){super(...e),d(this,"setSendButton",e=>{this.sendButton=e}),d(this,"handleRestartVideo",({event:e})=>{e&&e.stopPropagation&&e.stopPropagation();const{onRestartVideo:t}=this.props;t&&t({event:e}),o.a.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})}),d(this,"handleShareVideo",()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n}=this.props;e&&e(),t&&o.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),Object(s.b)(101,{component:179,objectId:n,view:3,viewParameter:156,element:11731})}),d(this,"handleExternalSend",()=>{o.a.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})}),d(this,"renderReplayButton",()=>Object(c.jsx)(l.X,{onTap:this.handleRestartVideo,rounding:2,children:Object(c.jsxs)(l.e,{alignItems:"center",display:"flex",padding:2,children:[Object(c.jsx)(l.u,{accessibilityLabel:a.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(c.jsx)(l.e,{margin:1}),Object(c.jsx)(l.t,{color:"white",overflow:"normal",size:"sm",children:a.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})),d(this,"renderShareButton",()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:o}=this.props;return Object(c.jsxs)(l.e,{alignItems:"center",display:"flex",padding:2,children:[Object(c.jsx)(r.default,{buttonType:"icon",gridDescription:e,imageSrc:t,isFlyoutOpen:n,onExternalSend:this.handleExternalSend,onFlyoutDismiss:i,onToggleFlyout:this.handleShareVideo,pinId:o,sendType:"pin",shareButtonRef:this.setSendButton,shownWithinMasonry:!0,iconOnly:!0}),Object(c.jsx)(l.e,{margin:1}),Object(c.jsx)(l.X,{onTap:this.handleShareVideo,rounding:2,children:Object(c.jsx)(l.t,{color:"white",overflow:"normal",size:"sm",children:a.a._("Send","end.video.send.icon.label","Clickable label when pressed opens share sheet after video is finished")})})]})})}componentDidMount(){const{pinId:e}=this.props;o.a.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),Object(s.b)(13,{component:179,objectId:e,view:3,viewParameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return Object(c.jsx)(l.e,{children:Object(c.jsxs)(l.w,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(c.jsx)(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:h.overlay}),Object(c.jsx)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:Object(c.jsxs)(l.e,{alignItems:"center",justifyContent:"center",position:"absolute",direction:"column",children:[Object(c.jsx)(l.e,{children:this.renderShareButton()}),Object(c.jsx)(l.e,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}t.b=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:o})=>Object(c.jsx)(l.e,{children:Object(c.jsxs)(l.w,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[Object(c.jsx)(l.e,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:h.overlay}),Object(c.jsx)(l.e,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:Object(c.jsx)(l.e,{children:Object(c.jsx)(l.X,{onTap:i,rounding:2,children:Object(c.jsxs)(l.e,{alignItems:"center",display:"flex",padding:2,children:[Object(c.jsx)(l.u,{accessibilityLabel:a.a._("Watch again","Button when pressed restarts the video","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:30}),Object(c.jsx)(l.e,{margin:1}),Object(c.jsx)(l.t,{color:"white",overflow:"normal",size:"sm",children:a.a._("Watch again","Clickable label when pressed restarts the video","Clickable label when pressed restarts the video")})]})})})})]})})},udob:function(e,t,n){var i=n("LqyK"),a=n("eOdZ"),o=n("d7ng"),r=n("4dcN"),s=n("zwad"),l=n("mBfy");const c={};c.open=function(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)},c.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t?t.scrollWidth-t.clientWidth:0,i=t?t.scrollHeight-t.clientHeight:0;e&&(n=Math.max(n,0),i=Math.max(i,0)),l.default.isAuthenticated()||(i=340),window.resizeBy(n,i)}(!1)};var d=c;const u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";r.a.trackEvent(t,"click");const n=u._getWindowUrl(e.tweet_path,e.tweet_text);d.open(n,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>s.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?Object(o.a)(e):void 0,text:t||void 0})};var h=u;const p={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),i=e.invite_channel,o=null==e.invite_category?3:e.invite_category,r=e.object_id;return a.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:i},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>p.createShareInviteData(e).then(t=>(p._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,i=null==e.invite_category?3:e.invite_category;if(10===i&&e.path){return a.a.create("ShareLinkResource",{invite_category:i,url:e.path}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}{const o=e.object_id;return a.a.create("CreateExternalInviteResource",{invite_type:{invite_category:i,invite_object:t,invite_channel:n},object_id:o}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))}},logShareInvite(e,t){t&&p._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>p.createShareInviteData(e).then(t=>{const n=t.invite_url,a=t.invite_code;return n&&i.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&p._logShareInvite(e,a)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return p.createShareInviteData(e).then(n=>{const i=n.invite_url,a=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),i&&h.openDialog({tweet_path:i,tweet_text:o}),p._logShareInvite(e,a),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>p.createShareInviteData(e).then(t=>{const n=t.invite_url,a=t.invite_code;return n&&i.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&p._logShareInvite(e,a)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=p},vZlu:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l}));const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function a(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function o(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function r(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function s(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function l(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}},w1Xl:function(e,t,n){n.d(t,"a",(function(){return c}));var i=n("Ye/N"),a=n("7w6Q"),o=n("eOdZ"),r=n("U4JR"),s=n("n6mq"),l=n("nKUr");function c(e){const{identifier:t,onUndoHide:n,isGroupChat:c}=e,d=async()=>{const i=o.a.create("ShareSuggestionsHideResource",{user_identifier:t});await i.callDelete(),n(),(()=>{const{component:t,element:n}=e;Object(r.b)(101,{component:t,element:n}),a.a.increment("web_contacts.suggestions.undo_hide",1,{surface:t})})()};return Object(l.jsxs)(s.e,{display:"flex",children:[Object(l.jsx)(s.e,{alignItems:"center",display:"flex",flex:"grow",height:"100%",width:"80%",children:Object(l.jsx)(s.Y,{inline:!0,color:"gray",children:c?i.a._("Ok! We won't suggest this group again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact"):i.a._("Ok! We won't suggest this contact again.","SendObject.SendObjectSuggestionItem.HideContactBanner","Warning message after user hide a contact")})}),Object(l.jsx)(s.e,{flex:"none",display:"flex",justifyContent:"end",alignItems:"center",children:Object(l.jsx)(s.f,{onClick:({event:e})=>{e.stopPropagation(),d()},text:i.a._("Undo","SendObject.SendObjectSuggestionItem.HideContactUndoButton","Undo button after user hide a contact"),size:"lg",type:"button",inline:!0})})]})}},wvsB:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var i=n("q1tI"),a=n("Vt0H"),o=n("Ye/N"),r=n("U4JR"),s=n("pLLR"),l=n("n6mq"),c=n("nKUr");const d="enabled_holdout",u=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,a=null===(o=window)||void 0===o||!o.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var o;return n?"4g"===n?i="40-80":(a="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:a}};function h(e,t){const n=e.experiments;let i,a;return t?(i=n.getWithActivation("web_story_pin_mp4").group,a=n.getWithActivation("web_preload_story_pin_video_in_feed").group):(i=n.getWithoutActivation("web_story_pin_mp4").group,a=n.getWithoutActivation("web_preload_story_pin_video_in_feed").group),["control","enabled_hover","enabled_click"].includes(a)?d:i}function p(e,t){const{video_list:n={}}=e;let i=n.V_720P||void 0,a=n.V_HLSV3_MOBILE||void 0;if(t.startsWith("enabled")){const{downloadSpeedGroup:e,screenDimension:t}=u(),o={"1x":n.V_EXP3,"2x":n.V_EXP5},r={"1x":n.V_EXP7,"2x":n.V_EXP7};i={unknown:o,"0-1":o,"1-5":{"1x":n.V_EXP4,"2x":n.V_EXP5},"5-10":{"1x":n.V_EXP5,"2x":n.V_EXP5},"10-20":{"1x":n.V_EXP6,"2x":n.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[e][t]||i,a=i?void 0:a}return{hlsv3:a,mp4:i}}class b extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t=this,n="startAudiblePlayTime",i=this.props.muted?null:new Date,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:n,requestContext:i,video:a}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const t=h(i,!1),{hlsv3:o,mp4:s}=p(a,t)||{},l=o||s,c=(null==l?void 0:l.duration)||0;Object(r.b)(8999,{objectId:e,pin_id:n,story_pin_music_duration:c})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:i,isPlaying:r,muted:s,onEnded:d,onUpdateVideoInfo:u,pageIndex:b,pinId:m,requestContext:g,video:f}=this.props,y=h(g,!0),{hlsv3:v,mp4:j}=p(f,y)||{},O=v||j;if(!O)return null;const{height:S,thumbnail:w,width:x}=O,_=x/S,C={height:"100%",left:"0",top:"0",width:"100%"},P=i/t;if(Math.abs(P-_)>.01)if(P<_){const e=100*_/P;C.width=e+"%",C.left=`-${(e-100)/2}%`}else if(P>_){const e=100*P/_;C.height=e+"%",C.top=`-${(e-100)/2}%`}let E=!1;return E=g.experiments.getWithActivation("web_story_pin_preload_second_page").group.startsWith("enabled")?"number"==typeof e&&b<=e+3:!!e&&b<=e+3,Object(c.jsx)(l.e,{height:t,overflow:"hidden",position:"relative",width:i,children:Object(c.jsx)(l.e,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%",children:E||r?Object(c.jsx)(l.e,{dangerouslySetInlineStyle:{__style:C},position:"absolute",children:Object(c.jsx)(a.a,{loop:!0,autoplay:r,contextLogData:{component:0===b?227:228,element:10957,objectId:m,story_pin_page_id:b,view:3,viewParameter:157},customThumbnail:w,isPromoted:!1,muted:s,pinId:m,showControls:!1,variant:"legacy",objectFit:!v&&j?"cover":void 0,video:{id:f.id,hlsv3:v,mp4:j},onTimeChange:({time:e})=>{if(u&&"number"==typeof O.duration&&O.duration>0){const t=O.duration/1e3;u(e,t)}},onEnded:()=>{d&&d(b)}})}):Object(c.jsx)(l.w,{alt:o.a._("Story Pin video cover image","closeup.storyPin.videoCover","cover image displayed for a video"),fit:"cover",naturalHeight:S,naturalWidth:x,src:w})})})}}function m(e){return Object(c.jsx)(b,{...e,requestContext:Object(s.d)()})}},"xs/l":function(e,t,n){var i=n("TYy9"),a=n("Ioao"),o=n("wclG");e.exports=function(e){return o(a(e,void 0,i),e+"")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/71-e4c86b1d4970b7482501.mjs.map